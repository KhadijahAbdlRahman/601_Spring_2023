{
  "hash": "5d167899dcbefbf655625c8489dc53e6",
  "result": {
    "markdown": "---\ntitle: \"Challenge 8\"\nauthor: \"Shaunak Padhye\"\ndescription: \"Joining Data\"\ndate: \"05/20/2023\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_8\n  - Shaunak Padhye\n  - snl\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Read in data\n\nFor this challenge I will be using the following dataset.\n\n  - snl ⭐⭐⭐⭐⭐\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsnl_casts <- read_csv(\"_data/snl_casts.csv\", skip = 1, col_names = c(\"aid\", \"sid\", \"featured\", \"cast_first_epid\", \"cast_last_epid\", \"update_anchor\", \"cast_n_epid\", \"season_fraction\"))\n  \nsnl_actors <- read_csv(\"_data/snl_actors.csv\")\n  \nsnl_seasons <- read_csv(\"_data/snl_seasons.csv\", skip = 1, col_names = c(\"sid\", \"year\", \"seasons_first_epid\", \"seasons_last_epid\", \"seasons_n_epid\"))\n```\n:::\n\n\n### Briefly describe the data\n\nThis dataset contains three different dataframes:\n\nsnl_actors: The actors dataframe contains details of the cast of people who have appeared in SNL from 1975 to 2020.\n\nsnl_casts: The casts dataframe contains details of the cast for various seasons of SNL.\n\nsnl_seasons: The seasons dataframe contains details of each season from 1975 to 2020.\n\n## Tidy Data (as needed)\n\nLets look what dataframes we have.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(snl_actors)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 4\n  aid            url           type  gender \n  <chr>          <chr>         <chr> <chr>  \n1 Kate McKinnon  /Cast/?KaMc   cast  female \n2 Alex Moffat    /Cast/?AlMo   cast  male   \n3 Ego Nwodim     /Cast/?EgNw   cast  unknown\n4 Chris Redd     /Cast/?ChRe   cast  male   \n5 Kenan Thompson /Cast/?KeTh   cast  male   \n6 Carey Mulligan /Guests/?3677 guest andy   \n```\n:::\n:::\n\n\nWe can remove the url column for our analysis.\n\n::: {.cell}\n\n```{.r .cell-code}\nsnl_actors <- snl_actors %>% select(-url)\nstr(snl_actors)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\ntibble [2,306 × 3] (S3: tbl_df/tbl/data.frame)\n $ aid   : chr [1:2306] \"Kate McKinnon\" \"Alex Moffat\" \"Ego Nwodim\" \"Chris Redd\" ...\n $ type  : chr [1:2306] \"cast\" \"cast\" \"cast\" \"cast\" ...\n $ gender: chr [1:2306] \"female\" \"male\" \"unknown\" \"male\" ...\n```\n:::\n:::\n\nLets look at the casts dataframe:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(snl_casts)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 8\n  aid      sid featured cast_first_epid cast_last_epid update_anchor cast_n_epid\n  <chr>  <dbl> <lgl>              <dbl>          <dbl> <lgl>               <dbl>\n1 A. Wh…    11 TRUE            19860222             NA FALSE                   8\n2 A. Wh…    12 TRUE                  NA             NA FALSE                  20\n3 A. Wh…    13 TRUE                  NA             NA FALSE                  13\n4 A. Wh…    14 TRUE                  NA             NA FALSE                  20\n5 A. Wh…    15 TRUE                  NA             NA FALSE                  20\n6 A. Wh…    16 TRUE                  NA             NA FALSE                  20\n# ℹ 1 more variable: season_fraction <dbl>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(snl_casts)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     aid                 sid         featured       cast_first_epid   \n Length:614         Min.   : 1.00   Mode :logical   Min.   :19770115  \n Class :character   1st Qu.:15.00   FALSE:451       1st Qu.:19801215  \n Mode  :character   Median :26.00   TRUE :163       Median :19901110  \n                    Mean   :25.47                   Mean   :19909634  \n                    3rd Qu.:37.00                   3rd Qu.:19957839  \n                    Max.   :46.00                   Max.   :20141025  \n                                                    NA's   :564       \n cast_last_epid     update_anchor    cast_n_epid    season_fraction  \n Min.   :19751011   Mode :logical   Min.   : 1.00   Min.   :0.04167  \n 1st Qu.:19850112   FALSE:541       1st Qu.:19.00   1st Qu.:1.00000  \n Median :19950225   TRUE :73        Median :20.00   Median :1.00000  \n Mean   :19944038                   Mean   :18.73   Mean   :0.94827  \n 3rd Qu.:20040117                   3rd Qu.:21.00   3rd Qu.:1.00000  \n Max.   :20140201                   Max.   :24.00   Max.   :1.00000  \n NA's   :597                                                         \n```\n:::\n:::\n\n\nFinally we take a look at the seasons data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(snl_seasons)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 5\n    sid  year seasons_first_epid seasons_last_epid seasons_n_epid\n  <dbl> <dbl>              <dbl>             <dbl>          <dbl>\n1     1  1975           19751011          19760731             24\n2     2  1976           19760918          19770521             22\n3     3  1977           19770924          19780520             20\n4     4  1978           19781007          19790526             20\n5     5  1979           19791013          19800524             20\n6     6  1980           19801115          19810411             13\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(snl_seasons)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      sid             year      seasons_first_epid seasons_last_epid \n Min.   : 1.00   Min.   :1975   Min.   :19751011   Min.   :19760731  \n 1st Qu.:12.25   1st Qu.:1986   1st Qu.:19863512   1st Qu.:19872949  \n Median :23.50   Median :1998   Median :19975926   Median :19985512  \n Mean   :23.50   Mean   :1998   Mean   :19975965   Mean   :19985509  \n 3rd Qu.:34.75   3rd Qu.:2009   3rd Qu.:20088423   3rd Qu.:20098015  \n Max.   :46.00   Max.   :2020   Max.   :20201003   Max.   :20210410  \n seasons_n_epid\n Min.   :12.0  \n 1st Qu.:20.0  \n Median :20.0  \n Mean   :19.7  \n 3rd Qu.:21.0  \n Max.   :24.0  \n```\n:::\n:::\n\n\n## Join Data\n\nNow we will join the dataframes:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsnl_castsseasons <- left_join(snl_casts, snl_seasons, by = \"sid\")\n\nsnl_data <- left_join(snl_castsseasons, snl_actors, \"aid\")\n\nglimpse(snl_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 614\nColumns: 14\n$ aid                <chr> \"A. Whitney Brown\", \"A. Whitney Brown\", \"A. Whitney…\n$ sid                <dbl> 11, 12, 13, 14, 15, 16, 5, 39, 40, 41, 42, 45, 46, …\n$ featured           <lgl> TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRU…\n$ cast_first_epid    <dbl> 19860222, NA, NA, NA, NA, NA, 19800409, 20140118, N…\n$ cast_last_epid     <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ update_anchor      <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FA…\n$ cast_n_epid        <dbl> 8, 20, 13, 20, 20, 20, 5, 11, 21, 21, 21, 18, 17, 2…\n$ season_fraction    <dbl> 0.4444444, 1.0000000, 1.0000000, 1.0000000, 1.00000…\n$ year               <dbl> 1985, 1986, 1987, 1988, 1989, 1990, 1979, 2013, 201…\n$ seasons_first_epid <dbl> 19851109, 19861011, 19871017, 19881008, 19890930, 1…\n$ seasons_last_epid  <dbl> 19860524, 19870523, 19880227, 19890520, 19900519, 1…\n$ seasons_n_epid     <dbl> 18, 20, 13, 20, 20, 20, 20, 21, 21, 21, 21, 18, 17,…\n$ type               <chr> \"cast\", \"cast\", \"cast\", \"cast\", \"cast\", \"cast\", \"ca…\n$ gender             <chr> \"male\", \"male\", \"male\", \"male\", \"male\", \"male\", \"ma…\n```\n:::\n:::\n\n\n## Data Exploration\n\nWe can see the distribution of gender for the cast member who have been Weekend Update Anchors.\n\n::: {.cell}\n\n```{.r .cell-code}\nsnl_data %>%\n  filter(update_anchor == TRUE) %>%\n  ggplot(aes(x = gender, fill = gender)) +\n  geom_bar() +\n  xlab(\"Gender\") +\n  ylab(\"Count\") +\n  ggtitle(\"Gender Distribution for Weekend Update\") +\n  scale_fill_brewer(palette = \"Set1\")\n```\n\n::: {.cell-output-display}\n![](ShaunakPadhye_Challenge8_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\nWe can see from the above graph that SNL has cast more Male cast members over female cast members as the Weekend Update Anchor.\n\n\nIt will be interesting to see the gender distribution of cast members over the years.\n\n::: {.cell}\n\n```{.r .cell-code}\nsnl_data %>%\n  group_by(year, gender) %>%\n  summarise(count = n()) %>%\n  ggplot(aes(x = year, y = count, fill = gender)) +\n  geom_bar(stat = \"identity\", position = \"stack\") +\n  labs(x = \"Year\", y = \"Count\", fill = \"Gender\") +\n  ggtitle(\"Gender Distribution by Year\") +\n  scale_fill_brewer(palette = \"Set1\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](ShaunakPadhye_Challenge8_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\nThe percentage of female cast members has increased over the years. However, SNL still tends to cast more male actors than female.\n",
    "supporting": [
      "ShaunakPadhye_Challenge8_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}