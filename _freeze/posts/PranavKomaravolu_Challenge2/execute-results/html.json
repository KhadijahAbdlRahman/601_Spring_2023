{
  "hash": "e635a5b68362ed53a72a701ecfde8fbe",
  "result": {
    "markdown": "---\ntitle: \"Challenge 2 - Railroads\"\nauthor: \"Pranav Bharadwaj Komaravolu\"\ndescription: \"Data wrangling: using group() and summarise()\"\ndate: \"03/07/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: false\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_2\n  - railroads\n  - Pranav Komaravolu\n  - dplyr\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(readr)\nlibrary(dplyr)\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n\n## Read in the Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- read_csv(\"_data/railroad_2012_clean_county.csv\")\ndata\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2,930 × 3\n   state county               total_employees\n   <chr> <chr>                          <dbl>\n 1 AE    APO                                2\n 2 AK    ANCHORAGE                          7\n 3 AK    FAIRBANKS NORTH STAR               2\n 4 AK    JUNEAU                             3\n 5 AK    MATANUSKA-SUSITNA                  2\n 6 AK    SITKA                              1\n 7 AK    SKAGWAY MUNICIPALITY              88\n 8 AL    AUTAUGA                          102\n 9 AL    BALDWIN                          143\n10 AL    BARBOUR                            1\n# … with 2,920 more rows\n```\n:::\n:::\n\n\n\n## Describe the data\n\nThe column names of the different columns are as follows: \n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"state\"           \"county\"          \"total_employees\"\n```\n:::\n:::\n\nThe classes of values in the different columns are as follows:\n\n::: {.cell}\n\n```{.r .cell-code}\nas.data.frame(sapply(data, class))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                sapply(data, class)\nstate                     character\ncounty                    character\ntotal_employees             numeric\n```\n:::\n:::\n\nSince we observe two columns with character type we can assume them to be categorical values and the number of distinct values in these columns are as follows:\n\n::: {.cell}\n\n```{.r .cell-code}\ndata %>%\n  select(state, county) %>%\n  summarize_all(n_distinct)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 2\n  state county\n  <int>  <int>\n1    53   1709\n```\n:::\n:::\n\nSo we can see that there are 53 states and 1709 counties.\n## Grouped Summary Statistics\n\n<!--Conduct some exploratory data analysis, using dplyr commands such as `group_by()`, `select()`, `filter()`, and `summarise()`. Find the central tendency (mean, median, mode) and dispersion (standard deviation, mix/max/quantile) for different subgroups within the data set.-->\nWe observed total_employees to be a numerical value, so we can get the measures of central tendency (mean) and dispersion(std) grouped on state as follows:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata %>%\n  group_by(state) %>%\n  select(state, county, total_employees) %>%\n  summarize(county_count = n(), mean_employees = mean(total_employees), sum_employees = sum(total_employees), dispersion = sd(total_employees, na.rm = TRUE))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 53 × 5\n   state county_count mean_employees sum_employees dispersion\n   <chr>        <int>          <dbl>         <dbl>      <dbl>\n 1 AE               1            2               2       NA  \n 2 AK               6           17.2           103       34.8\n 3 AL              67           63.5          4257      130. \n 4 AP               1            1               1       NA  \n 5 AR              72           53.8          3871      131. \n 6 AZ              15          210.           3153      228. \n 7 CA              55          239.          13137      549. \n 8 CO              57           64.0          3650      128. \n 9 CT               8          324            2592      520. \n10 DC               1          279             279       NA  \n# … with 43 more rows\n```\n:::\n:::\n\nNow we'll try to observe the same when grouped by counties:\n\n::: {.cell}\n\n```{.r .cell-code}\ndata %>%\n  group_by(county) %>%\n  select(county, state, total_employees) %>%\n  summarize(state_count = n(), mean_employees = mean(total_employees), sum_employees = sum(total_employees), dispersion = sd(total_employees, na.rm = TRUE))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1,709 × 5\n   county    state_count mean_employees sum_employees dispersion\n   <chr>           <int>          <dbl>         <dbl>      <dbl>\n 1 ABBEVILLE           1         124              124      NA   \n 2 ACADIA              1          13               13      NA   \n 3 ACCOMACK            1           4                4      NA   \n 4 ADA                 1          81               81      NA   \n 5 ADAIR               4           7.25            29       9.32\n 6 ADAMS              12          73.2            878     155.  \n 7 ADDISON             1           8                8      NA   \n 8 AIKEN               1         193              193      NA   \n 9 AITKIN              1          19               19      NA   \n10 ALACHUA             1          22               22      NA   \n# … with 1,699 more rows\n```\n:::\n:::\n\n\n### Interpretation\n\nWhen we split the data based on state we observed that some of the states have only one county, while most of them have more than one county thus providing us with a dispersion measure, whereas when it comes to the counties we observe some common county names such as ADAMS are present in more than one state. Thus when we group by state we tend to observe more relevant data as to how many employees are present in a region than that of the counties.\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}