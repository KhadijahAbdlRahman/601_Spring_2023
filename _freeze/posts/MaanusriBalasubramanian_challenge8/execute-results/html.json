{
  "hash": "421340fd149f2083b89a227f4ce7edb8",
  "result": {
    "markdown": "---\ntitle: \"Challenge 8\"\nauthor: \"Maanusri Balasubramanian\"\ndescription: \"Joining Data\"\ndate: \"05/11/2023\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_8\n  - maanusri balasubramanian\n  - snl\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1)  read in multiple data sets, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2)  tidy data (as needed, including sanity checks)\n3)  mutate variables as needed (including sanity checks)\n4)  join two or more data sets and analyze some aspect of the joined data\n\n(be sure to only include the category tags for the data you use!)\n\n## Read in data\n\nRead in one (or more) of the following datasets, using the correct R package and command.\n\n  - military marriages ⭐⭐\n  - faostat ⭐⭐\n  - railroads  ⭐⭐⭐\n  - fed_rate ⭐⭐⭐\n  - debt ⭐⭐⭐\n  - us_hh ⭐⭐⭐⭐\n  - snl ⭐⭐⭐⭐⭐\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# reading the datasets from CSV\nsnl_actors <- read.csv(\"_data/snl_actors.csv\")\nsnl_casts <- read.csv(\"_data/snl_casts.csv\")\nsnl_seasons <- read.csv(\"_data/snl_seasons.csv\")\n\n# peaking into the datasets\nhead(snl_actors)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n             aid           url  type  gender\n1  Kate McKinnon   /Cast/?KaMc  cast  female\n2    Alex Moffat   /Cast/?AlMo  cast    male\n3     Ego Nwodim   /Cast/?EgNw  cast unknown\n4     Chris Redd   /Cast/?ChRe  cast    male\n5 Kenan Thompson   /Cast/?KeTh  cast    male\n6 Carey Mulligan /Guests/?3677 guest    andy\n```\n:::\n\n```{.r .cell-code}\nhead(snl_casts)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n               aid sid featured first_epid last_epid update_anchor n_episodes\n1 A. Whitney Brown  11     True   19860222        NA         False          8\n2 A. Whitney Brown  12     True         NA        NA         False         20\n3 A. Whitney Brown  13     True         NA        NA         False         13\n4 A. Whitney Brown  14     True         NA        NA         False         20\n5 A. Whitney Brown  15     True         NA        NA         False         20\n6 A. Whitney Brown  16     True         NA        NA         False         20\n  season_fraction\n1       0.4444444\n2       1.0000000\n3       1.0000000\n4       1.0000000\n5       1.0000000\n6       1.0000000\n```\n:::\n\n```{.r .cell-code}\nhead(snl_seasons)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  sid year first_epid last_epid n_episodes\n1   1 1975   19751011  19760731         24\n2   2 1976   19760918  19770521         22\n3   3 1977   19770924  19780520         20\n4   4 1978   19781007  19790526         20\n5   5 1979   19791013  19800524         20\n6   6 1980   19801115  19810411         13\n```\n:::\n\n```{.r .cell-code}\n# number of rows in each\nnrow(snl_actors)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2306\n```\n:::\n\n```{.r .cell-code}\nnrow(snl_casts)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 614\n```\n:::\n\n```{.r .cell-code}\nnrow(snl_seasons)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 46\n```\n:::\n\n```{.r .cell-code}\n# number of columns in each\nncol(snl_actors)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 4\n```\n:::\n\n```{.r .cell-code}\nncol(snl_casts)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 8\n```\n:::\n\n```{.r .cell-code}\nncol(snl_seasons)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 5\n```\n:::\n\n```{.r .cell-code}\n# print column names of each\ncolnames(snl_actors)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"aid\"    \"url\"    \"type\"   \"gender\"\n```\n:::\n\n```{.r .cell-code}\ncolnames(snl_casts)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"aid\"             \"sid\"             \"featured\"        \"first_epid\"     \n[5] \"last_epid\"       \"update_anchor\"   \"n_episodes\"      \"season_fraction\"\n```\n:::\n\n```{.r .cell-code}\ncolnames(snl_seasons)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"sid\"        \"year\"       \"first_epid\" \"last_epid\"  \"n_episodes\"\n```\n:::\n:::\n\n\n### Briefly describe the data\n\nThese 3 datasets contain data about Saturday Night Live actors, casts and seasons respectively. Based on the number of rows, number of columns and column names information from above, we know that there were a total of 2306 actors and 46 seasons in Saturday Night Live. snl_actors dataset contains specific information about actors, snl_casts dataset contains information about the appearance of the show cast (like if they were featured in the show, their episode of appearance, number of episodes of appearance, etc.) and the snl_seasons dataset contains information about each season of the show (like the start episode, the end episode, year it was aired and the number of episodes in the season)\n\n## Tidy Data (as needed)\n\nIs your data already tidy, or is there work to be done? Be sure to anticipate your end result to provide a sanity check, and document your work here.\n\nThe data is already tidy, so no extra work needs to be done.\n\nAre there any variables that require mutation to be usable in your analysis stream? For example, do you need to calculate new values in order to graph them? Can string values be represented numerically? Do you need to turn any variables into factors and reorder for ease of graphics and visualization?\n\nDocument your work here.\n\n\n::: {.cell}\n\n:::\n\n\n## Join Data\n\nBe sure to include a sanity check, and double-check that case count is correct!\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Merging snl_actors and snl_casts\ncast_actor <- merge(snl_casts, snl_actors, by = 'aid')\n\n# merging cast_actor and snl_seasons\ncast_actor_season <- cast_actor %>%\n  merge(snl_seasons, by = 'sid') %>%\n  group_by(sid, year, gender) %>%\n  count(sid, gender)\n\n# plotting gender count over the years\ncast_actor_season %>%\n  ggplot(aes(year, n, col = gender)) +\n  geom_line() +\n  ylab(\"Count\") +\n  ggtitle(\"Gender count by year\")\n```\n\n::: {.cell-output-display}\n![](MaanusriBalasubramanian_challenge8_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncast_actor_season \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 95 × 4\n# Groups:   sid, year, gender [95]\n     sid  year gender     n\n   <int> <int> <chr>  <int>\n 1     1  1975 female     3\n 2     1  1975 male       6\n 3     2  1976 female     3\n 4     2  1976 male       5\n 5     3  1977 female     3\n 6     3  1977 male       6\n 7     4  1978 female     3\n 8     4  1978 male       6\n 9     5  1979 female     3\n10     5  1979 male      12\n# ℹ 85 more rows\n```\n:::\n:::\n\nFrom the above visualization we can see that there is rise in number of employees in each season over the years.\n\nWe can see that there is an increase in the number of actors in the show over the years, which is expected. The number of female actors is lesser than the number of male actors over the years too. We can also see that characters are being added and removed from the show on a regular basis, so the kinks in the graph.\n",
    "supporting": [
      "MaanusriBalasubramanian_challenge8_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}