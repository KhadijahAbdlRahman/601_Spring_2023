{
  "hash": "6da27794fb46847852e9ba5a5e43826f",
  "result": {
    "markdown": "---\ntitle: \"Challenge 3 - Eggs\"\nauthor: \"Connor Landreth\"\ndescription: \"Tidy Data: Pivoting\"\ndate: \"03/09/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_3\n  - eggs\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1.  read in a data set, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2.  identify what needs to be done to tidy the current data\n3.  anticipate the shape of pivoted data\n4.  pivot the data into tidy format using `pivot_longer`\n\n## Read in data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsetwd(\"/Github Projects/601_Spring_2023/posts/_data\")\n\neggs <- read.csv(\"eggs_tidy.csv\")\neggs\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        month year large_half_dozen large_dozen extra_large_half_dozen\n1     January 2004          126.000     230.000                132.000\n2    February 2004          128.500     226.250                134.500\n3       March 2004          131.000     225.000                137.000\n4       April 2004          131.000     225.000                137.000\n5         May 2004          131.000     225.000                137.000\n6        June 2004          133.500     231.375                137.000\n7        July 2004          133.500     233.500                137.000\n8      August 2004          133.500     233.500                137.000\n9   September 2004          129.750     233.500                135.875\n10    October 2004          128.500     233.500                135.500\n11   November 2004          128.500     233.500                135.500\n12   December 2004          128.500     233.500                135.500\n13    January 2005          128.500     233.500                135.500\n14   February 2005          128.500     233.500                135.500\n15      March 2005          128.500     233.500                135.500\n16      April 2005          128.500     233.500                135.500\n17        May 2005          128.500     233.500                135.500\n18       June 2005          128.500     233.500                135.500\n19       July 2005          128.500     233.500                135.500\n20     August 2005          128.500     233.500                135.500\n21  September 2005          128.500     233.500                135.500\n22    October 2005          128.500     233.500                135.500\n23   November 2005          128.500     233.500                135.500\n24   December 2005          128.500     233.500                135.500\n25    January 2006          128.500     233.500                135.500\n26   February 2006          128.500     233.500                135.500\n27      March 2006          128.500     233.500                135.500\n28      April 2006          128.500     233.500                135.500\n29        May 2006          128.500     233.500                135.500\n30       June 2006          128.500     233.500                135.500\n31       July 2006          128.500     233.500                135.500\n32     August 2006          128.500     233.500                135.500\n33  September 2006          128.500     233.500                135.500\n34    October 2006          128.500     233.500                135.500\n35   November 2006          128.500     233.500                135.500\n36   December 2006          128.500     233.500                135.500\n37    January 2007          128.500     233.500                135.500\n38   February 2007          131.125     236.125                138.125\n39      March 2007          132.000     237.000                139.000\n40      April 2007          132.000     237.000                139.000\n41        May 2007          132.000     237.000                139.000\n42       June 2007          132.000     237.000                139.000\n43       July 2007          132.000     237.000                139.000\n44     August 2007          132.000     237.000                139.000\n45  September 2007          132.000     237.000                139.000\n46    October 2007          132.000     237.000                139.000\n47   November 2007          132.000     237.000                139.000\n48   December 2007          132.000     237.000                139.000\n49    January 2008          132.000     237.000                139.000\n50   February 2008          132.000     237.000                139.000\n51      March 2008          132.000     237.000                139.000\n52      April 2008          132.000     237.000                139.000\n53        May 2008          132.000     237.000                139.000\n54       June 2008          174.500     277.500                185.500\n55       July 2008          174.500     277.500                185.500\n56     August 2008          174.500     277.500                185.500\n57  September 2008          174.500     277.500                185.500\n58    October 2008          174.500     277.500                185.500\n59   November 2008          174.500     277.500                185.500\n60   December 2008          174.500     277.500                185.500\n61    January 2009          174.500     277.500                185.500\n62   February 2009          174.500     277.500                185.500\n63      March 2009          174.500     277.500                185.500\n64      April 2009          174.500     277.500                185.500\n65        May 2009          174.500     277.500                185.500\n66       June 2009          174.500     277.500                185.500\n67       July 2009          174.500     277.500                185.500\n68     August 2009          174.500     271.500                185.500\n69  September 2009          174.500     271.500                185.500\n70    October 2009          174.500     271.500                185.500\n71   November 2009          174.500     271.500                185.500\n72   December 2009          174.500     271.500                185.500\n73    January 2010          174.500     271.500                185.500\n74   February 2010          174.500     271.500                185.500\n75      March 2010          174.500     268.000                185.500\n76      April 2010          174.500     268.000                185.500\n77        May 2010          174.500     268.000                185.500\n78       June 2010          174.500     268.000                185.500\n79       July 2010          174.500     268.000                185.500\n80     August 2010          174.500     268.000                185.500\n81  September 2010          174.500     268.000                185.500\n82    October 2010          174.500     267.500                185.500\n83   November 2010          174.500     267.500                185.500\n84   December 2010          174.500     267.500                185.500\n85    January 2011          174.500     267.500                185.500\n86   February 2011          174.500     267.500                185.500\n87      March 2011          174.500     267.500                185.500\n88      April 2011          174.500     267.500                185.500\n89        May 2011          174.500     267.500                185.500\n90       June 2011          174.500     270.000                185.500\n91       July 2011          174.500     270.000                185.500\n92     August 2011          174.500     270.000                185.500\n93  September 2011          174.500     270.000                185.500\n94    October 2011          174.500     270.000                185.500\n95   November 2011          174.500     270.000                185.500\n96   December 2011          174.500     270.000                185.500\n97    January 2012          174.500     267.500                185.500\n98   February 2012          174.500     267.500                185.500\n99      March 2012          174.500     267.500                185.500\n100     April 2012          174.500     267.500                185.500\n101       May 2012          173.250     267.500                185.500\n102      June 2012          173.250     267.500                185.500\n103      July 2012          173.250     267.500                185.500\n104    August 2012          173.250     267.500                185.500\n105 September 2012          173.250     267.500                185.500\n106   October 2012          173.250     267.500                185.500\n107  November 2012          178.000     267.500                188.130\n108  December 2012          178.000     267.500                188.130\n109   January 2013          178.000     267.500                188.130\n110  February 2013          178.000     267.500                188.130\n111     March 2013          178.000     267.500                188.130\n112     April 2013          178.000     267.500                188.130\n113       May 2013          178.000     267.500                188.130\n114      June 2013          178.000     267.500                188.130\n115      July 2013          178.000     267.500                188.130\n116    August 2013          178.000     267.500                188.130\n117 September 2013          178.000     267.500                188.130\n118   October 2013          178.000     267.500                188.130\n119  November 2013          178.000     267.500                188.130\n120  December 2013          178.000     267.500                188.130\n    extra_large_dozen\n1             230.000\n2             230.000\n3             230.000\n4             234.500\n5             236.000\n6             241.000\n7             241.000\n8             241.000\n9             241.000\n10            241.000\n11            241.000\n12            241.000\n13            241.000\n14            241.000\n15            241.000\n16            241.000\n17            241.000\n18            241.000\n19            241.000\n20            241.000\n21            241.000\n22            241.000\n23            241.000\n24            241.000\n25            241.000\n26            241.000\n27            241.375\n28            241.500\n29            241.500\n30            241.500\n31            241.500\n32            241.500\n33            241.500\n34            241.500\n35            241.500\n36            241.500\n37            241.500\n38            244.125\n39            245.000\n40            245.000\n41            245.000\n42            245.000\n43            245.000\n44            245.000\n45            245.000\n46            245.000\n47            245.000\n48            245.000\n49            245.000\n50            245.000\n51            245.000\n52            245.000\n53            245.000\n54            285.500\n55            285.500\n56            285.500\n57            285.500\n58            285.500\n59            285.500\n60            285.500\n61            285.500\n62            285.500\n63            285.500\n64            285.500\n65            285.500\n66            285.500\n67            285.500\n68            285.500\n69            285.500\n70            285.500\n71            285.500\n72            285.500\n73            285.500\n74            285.500\n75            285.500\n76            285.500\n77            285.500\n78            285.500\n79            285.500\n80            285.500\n81            285.500\n82            285.500\n83            285.500\n84            285.500\n85            285.500\n86            285.500\n87            285.500\n88            285.500\n89            285.500\n90            285.500\n91            285.500\n92            285.500\n93            285.500\n94            285.500\n95            285.500\n96            285.500\n97            285.500\n98            288.500\n99            288.500\n100           288.500\n101           288.500\n102           288.500\n103           288.500\n104           288.500\n105           288.500\n106           288.500\n107           290.000\n108           290.000\n109           290.000\n110           290.000\n111           290.000\n112           290.000\n113           290.000\n114           290.000\n115           290.000\n116           290.000\n117           290.000\n118           290.000\n119           290.000\n120           290.000\n```\n:::\n:::\n\n\n### Briefly describe the data\n\nThe data is inclusive of 120 observations and 6 variables. The data includes data on the prices of egg cartons from January 2004 to December 2013, hence the 120 observations. Pivoting this will make it more tidy because we can see more clearly how egg quantities increased or decreased from year-to-year, as opposed to every month back-to-back.\n\n## Anticipate the End Result\n\nRight now we are working with six columns and 120 rows when evaluating this data set. When pivoted for cleanliness, each carton type should appear together for each year (eg Nov 2006 large dozen and Nov 2006 large half dozen will be together)\n\n### Example: find current and future data dimensions\n\nCurrent: 6 columns x 120 rows. We will pivot this data longer to create a data set with only 4 columns, year and month will remain, and two new will be created (type of carton and relative price(P/lb))\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnrow(eggs)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 120\n```\n:::\n\n```{.r .cell-code}\nncol(eggs)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 6\n```\n:::\n:::\n\n\nLets see if this works with a simple example.\n\n\n::: {.cell}\n\n```{.r .cell-code}\neggs_pivotlong <- eggs %>%\n  pivot_longer(col = c(large_half_dozen, large_dozen, extra_large_half_dozen, extra_large_dozen),\n               names_to = \"Type_of_Carton\",\n               values_to = \"price_per_pound\")\neggs_pivotlong\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 480 × 4\n   month     year Type_of_Carton         price_per_pound\n   <chr>    <int> <chr>                            <dbl>\n 1 January   2004 large_half_dozen                  126 \n 2 January   2004 large_dozen                       230 \n 3 January   2004 extra_large_half_dozen            132 \n 4 January   2004 extra_large_dozen                 230 \n 5 February  2004 large_half_dozen                  128.\n 6 February  2004 large_dozen                       226.\n 7 February  2004 extra_large_half_dozen            134.\n 8 February  2004 extra_large_dozen                 230 \n 9 March     2004 large_half_dozen                  131 \n10 March     2004 large_dozen                       225 \n# … with 470 more rows\n```\n:::\n\n```{.r .cell-code}\nView(eggs_pivotlong)\n```\n:::\n\n\n### Challenge: Describe the final dimensions\n\nThe new dimesions are 4 columns and 480 rows\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnrow(eggs_pivotlong)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 480\n```\n:::\n\n```{.r .cell-code}\nncol(eggs_pivotlong)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 4\n```\n:::\n\n```{.r .cell-code}\neggs_pivotlong %>% \n  group_by(Type_of_Carton) %>% \n  summarise( Min = min(price_per_pound),\n             Max = max(price_per_pound),\n             Mean = mean(price_per_pound),\n             Median = median(price_per_pound),\n             Quantile = quantile(price_per_pound))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 20 × 6\n# Groups:   Type_of_Carton [4]\n   Type_of_Carton           Min   Max  Mean Median Quantile\n   <chr>                  <dbl> <dbl> <dbl>  <dbl>    <dbl>\n 1 extra_large_dozen        230  290   267.   286.     230 \n 2 extra_large_dozen        230  290   267.   286.     242.\n 3 extra_large_dozen        230  290   267.   286.     286.\n 4 extra_large_dozen        230  290   267.   286.     286.\n 5 extra_large_dozen        230  290   267.   286.     290 \n 6 extra_large_half_dozen   132  188.  164.   186.     132 \n 7 extra_large_half_dozen   132  188.  164.   186.     136.\n 8 extra_large_half_dozen   132  188.  164.   186.     186.\n 9 extra_large_half_dozen   132  188.  164.   186.     186.\n10 extra_large_half_dozen   132  188.  164.   186.     188.\n11 large_dozen              225  278.  254.   268.     225 \n12 large_dozen              225  278.  254.   268.     234.\n13 large_dozen              225  278.  254.   268.     268.\n14 large_dozen              225  278.  254.   268.     268 \n15 large_dozen              225  278.  254.   268.     278.\n16 large_half_dozen         126  178   155.   174.     126 \n17 large_half_dozen         126  178   155.   174.     129.\n18 large_half_dozen         126  178   155.   174.     174.\n19 large_half_dozen         126  178   155.   174.     174.\n20 large_half_dozen         126  178   155.   174.     178 \n```\n:::\n:::\n\n\nUnsurprisingly, the mean price for a carton of extra large eggs came out to be the most expensive on average, while the mean price of a half dozen large eggs came out to be the lowest, on average.\n\n\n::: {.cell}\n\n```{.r .cell-code}\neggs_pivotlong %>% \n  select(Type_of_Carton, price_per_pound, month, year) %>% \n  ggplot(aes(price_per_pound, month, color=Type_of_Carton))+\n  geom_point(size=3, alpha = 0.8)+\n  geom_smooth()+\n  theme_linedraw()+\n  labs(title=\"Price by Carton Type over Months\")\n```\n\n::: {.cell-output-display}\n![](ConnorLandreth_Challenge3_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nI don't know if this actually shows much but it shows price tends to increase in certain months. Any additional comments?\n",
    "supporting": [
      "ConnorLandreth_Challenge3_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}