{
  "hash": "a8de4d69a089bf76d6fd747b8187f945",
  "result": {
    "markdown": "---\ntitle: \"Challenge 8\"\nauthor: \"Abhinav Reddy Yadatha\"\ndescription: \"Joining Data\"\ndate: \"05/15/2023\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_8\n  - Abhinav Reddy Yadatha\n  - snl\n\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(ggplot2)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1)  read in multiple data sets, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2)  tidy data (as needed, including sanity checks)\n3)  mutate variables as needed (including sanity checks)\n4)  join two or more data sets and analyze some aspect of the joined data\n\n(be sure to only include the category tags for the data you use!)\n\n## Read in data\n\nRead in one (or more) of the following datasets, using the correct R package and command.\n\n  - military marriages ⭐⭐\n  - faostat ⭐⭐\n  - railroads  ⭐⭐⭐\n  - fed_rate ⭐⭐⭐\n  - debt ⭐⭐⭐\n  - us_hh ⭐⭐⭐⭐\n  - snl ⭐⭐⭐⭐⭐\n\n\n::: {.cell}\n\n```{.r .cell-code}\nseasons_data <- read.csv(\"_data/snl_seasons.csv\")\nactors_data <- read.csv(\"_data/snl_actors.csv\")\ncasts_data <- read.csv(\"_data/snl_casts.csv\")\n\n# Displaying first few rows of the datasets\nhead(seasons_data)  \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  sid year first_epid last_epid n_episodes\n1   1 1975   19751011  19760731         24\n2   2 1976   19760918  19770521         22\n3   3 1977   19770924  19780520         20\n4   4 1978   19781007  19790526         20\n5   5 1979   19791013  19800524         20\n6   6 1980   19801115  19810411         13\n```\n:::\n\n```{.r .cell-code}\nhead(actors_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n             aid           url  type  gender\n1  Kate McKinnon   /Cast/?KaMc  cast  female\n2    Alex Moffat   /Cast/?AlMo  cast    male\n3     Ego Nwodim   /Cast/?EgNw  cast unknown\n4     Chris Redd   /Cast/?ChRe  cast    male\n5 Kenan Thompson   /Cast/?KeTh  cast    male\n6 Carey Mulligan /Guests/?3677 guest    andy\n```\n:::\n\n```{.r .cell-code}\nhead(casts_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n               aid sid featured first_epid last_epid update_anchor n_episodes\n1 A. Whitney Brown  11     True   19860222        NA         False          8\n2 A. Whitney Brown  12     True         NA        NA         False         20\n3 A. Whitney Brown  13     True         NA        NA         False         13\n4 A. Whitney Brown  14     True         NA        NA         False         20\n5 A. Whitney Brown  15     True         NA        NA         False         20\n6 A. Whitney Brown  16     True         NA        NA         False         20\n  season_fraction\n1       0.4444444\n2       1.0000000\n3       1.0000000\n4       1.0000000\n5       1.0000000\n6       1.0000000\n```\n:::\n\n```{.r .cell-code}\n# Dimensions of datasets\ndim(seasons_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 46  5\n```\n:::\n\n```{.r .cell-code}\ndim(actors_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2306    4\n```\n:::\n\n```{.r .cell-code}\ndim(casts_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 614   8\n```\n:::\n\n```{.r .cell-code}\n# Summaries of datasets\nsummary(seasons_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      sid             year        first_epid         last_epid       \n Min.   : 1.00   Min.   :1975   Min.   :19751011   Min.   :19760731  \n 1st Qu.:12.25   1st Qu.:1986   1st Qu.:19863512   1st Qu.:19872949  \n Median :23.50   Median :1998   Median :19975926   Median :19985512  \n Mean   :23.50   Mean   :1998   Mean   :19975965   Mean   :19985509  \n 3rd Qu.:34.75   3rd Qu.:2009   3rd Qu.:20088423   3rd Qu.:20098015  \n Max.   :46.00   Max.   :2020   Max.   :20201003   Max.   :20210410  \n   n_episodes  \n Min.   :12.0  \n 1st Qu.:20.0  \n Median :20.0  \n Mean   :19.7  \n 3rd Qu.:21.0  \n Max.   :24.0  \n```\n:::\n\n```{.r .cell-code}\nsummary(actors_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     aid                url                type              gender         \n Length:2306        Length:2306        Length:2306        Length:2306       \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n```\n:::\n\n```{.r .cell-code}\nsummary(casts_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     aid                 sid          featured           first_epid      \n Length:614         Min.   : 1.00   Length:614         Min.   :19770115  \n Class :character   1st Qu.:15.00   Class :character   1st Qu.:19801215  \n Mode  :character   Median :26.00   Mode  :character   Median :19901110  \n                    Mean   :25.47                      Mean   :19909634  \n                    3rd Qu.:37.00                      3rd Qu.:19957839  \n                    Max.   :46.00                      Max.   :20141025  \n                                                       NA's   :564       \n   last_epid        update_anchor        n_episodes    season_fraction  \n Min.   :19751011   Length:614         Min.   : 1.00   Min.   :0.04167  \n 1st Qu.:19850112   Class :character   1st Qu.:19.00   1st Qu.:1.00000  \n Median :19950225   Mode  :character   Median :20.00   Median :1.00000  \n Mean   :19944038                      Mean   :18.73   Mean   :0.94827  \n 3rd Qu.:20040117                      3rd Qu.:21.00   3rd Qu.:1.00000  \n Max.   :20140201                      Max.   :24.00   Max.   :1.00000  \n NA's   :597                                                            \n```\n:::\n:::\n\n\n### Briefly describe the data\n\nThe data frames contain independent and well-organized data. The actors Data Frame consists of a comprehensive list of actors, guests, musical guests, and crew members who have appeared on the show. Each observation pertains to an individual actor and includes details about their role type and gender.\n\nOn the other hand, the casts data frame focuses on actors who were part of the cast during a specific season. Each observation represents an actor and includes information such as their featured status, dates of the first and last episodes they appeared in, whether they served as an anchor on weekend update, and the number of episodes they participated in during that season.\n\nLastly, the seasons data frame encompasses information about each specific season. Each observation corresponds to a particular season and includes data such as the year it aired, the dates of the first and last episodes, and the total number of episodes.\n\n## Tidy Data (as needed)\n\nIs your data already tidy, or is there work to be done? Be sure to anticipate your end result to provide a sanity check, and document your work here.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Mutating seasons dataset \n\nseasons_data <- seasons_data %>% # (46 x 5)\n        mutate(first_epid = ymd(first_epid), last_epid = ymd(last_epid))\n\n# Mutating casts dataset \ncasts_data <- casts_data %>%  \n        mutate(first_epid = ymd(first_epid), last_epid = ymd(last_epid))\n```\n:::\n\n\nAre there any variables that require mutation to be usable in your analysis stream? For example, do you need to calculate new values in order to graph them? Can string values be represented numerically? Do you need to turn any variables into factors and reorder for ease of graphics and visualization?\n\nDocument your work here.\n\n\n::: {.cell}\n\n:::\n\n\n## Join Data\n\nBe sure to include a sanity check, and double-check that case count is correct!\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Sanity chack : cast members count :154 \n\nactors_data <-actors_data %>%\n       select(-url) %>%\n       filter(type == \"cast\")  \n\n\n\n# Saanity Check:  cast members count : 156\ncasts_data %>%\n      select(aid)%>%\n      n_distinct()              \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 156\n```\n:::\n\n```{.r .cell-code}\nfullyjoined_data <- full_join(actors_data, casts_data, by = \"aid\") %>%\n        select(c(aid, gender, sid, featured, update_anchor))\n```\n:::\n\n\nJoin of both the tables have been completed. Let us perform some analysis.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(fullyjoined_data) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n            aid gender sid featured update_anchor\n1 Kate McKinnon female  37     True         False\n2 Kate McKinnon female  38     True         False\n3 Kate McKinnon female  39    False         False\n4 Kate McKinnon female  40    False         False\n5 Kate McKinnon female  41    False         False\n6 Kate McKinnon female  42    False         False\n```\n:::\n\n```{.r .cell-code}\nfullyjoined_data %>%\n      filter(update_anchor == \"True\") %>%\n      select(gender)%>%\n      table() %>%\n      prop.table() \n```\n\n::: {.cell-output .cell-output-stdout}\n```\ngender\n  female     male \n0.260274 0.739726 \n```\n:::\n\n```{.r .cell-code}\n# When considering all seasons, approximately 74% of the hosts for weekend update are male.\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}