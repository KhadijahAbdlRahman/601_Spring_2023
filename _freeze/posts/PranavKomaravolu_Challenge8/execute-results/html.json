{
  "hash": "5bcc7a9234585587797e65ddc2f02882",
  "result": {
    "markdown": "---\ntitle: \"Challenge 8\"\nauthor: \"Pranav Komaravolu\"\ndescription: \"Joining Data\"\ndate: \"05/19/2023\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_8\n  - snl\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readr)\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(dplyr)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n<!--\n## Challenge Overview\n\nToday's challenge is to:\n\n1)  read in multiple data sets, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2)  tidy data (as needed, including sanity checks)\n3)  mutate variables as needed (including sanity checks)\n4)  join two or more data sets and analyze some aspect of the joined data\n\n(be sure to only include the category tags for the data you use!)\n-->\n\n## Data Description\nI chose the SNL dataset for this project and it comprises of 3 files where each of these files talk about the following details respectively:\n\n1) Actors\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_actors <- read_csv(\"_data/snl_actors.csv\", show_col_types = FALSE)\nhead(data_actors)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 4\n  aid            url           type  gender \n  <chr>          <chr>         <chr> <chr>  \n1 Kate McKinnon  /Cast/?KaMc   cast  female \n2 Alex Moffat    /Cast/?AlMo   cast  male   \n3 Ego Nwodim     /Cast/?EgNw   cast  unknown\n4 Chris Redd     /Cast/?ChRe   cast  male   \n5 Kenan Thompson /Cast/?KeTh   cast  male   \n6 Carey Mulligan /Guests/?3677 guest andy   \n```\n:::\n:::\n\nThis file specifically talks about the crew who work or associated to SNL. There are 4 columns where the column 'aid' represents the name of the person, 'url' refers to the url associated to the aid and two other columns type and gender which talks about how the aid is associated and the gender of the aid respectively.\n\nThe dimensions of the actors dataset is as follows:\n\n::: {.cell}\n\n```{.r .cell-code}\ndim(data_actors)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2306    4\n```\n:::\n:::\n\n\n2) Casts\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_casts <- read_csv(\"_data/snl_casts.csv\", show_col_types = FALSE)\nhead(data_casts)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 8\n  aid                sid featured first_epid last_epid update_…¹ n_epi…² seaso…³\n  <chr>            <dbl> <lgl>         <dbl>     <dbl> <lgl>       <dbl>   <dbl>\n1 A. Whitney Brown    11 TRUE       19860222        NA FALSE           8   0.444\n2 A. Whitney Brown    12 TRUE             NA        NA FALSE          20   1    \n3 A. Whitney Brown    13 TRUE             NA        NA FALSE          13   1    \n4 A. Whitney Brown    14 TRUE             NA        NA FALSE          20   1    \n5 A. Whitney Brown    15 TRUE             NA        NA FALSE          20   1    \n6 A. Whitney Brown    16 TRUE             NA        NA FALSE          20   1    \n# … with abbreviated variable names ¹​update_anchor, ²​n_episodes,\n#   ³​season_fraction\n```\n:::\n:::\n\nThis dataset appears to depict the engagement of the casts with SNL like episodes appeared on and other casting related information.\n\nThe dimensions of the casts dataset is as follows:\n\n::: {.cell}\n\n```{.r .cell-code}\ndim(data_casts)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 614   8\n```\n:::\n:::\n\n\n3) Seasons\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_seasons <- read_csv(\"_data/snl_seasons.csv\", show_col_types = FALSE)\nhead(data_seasons)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 5\n    sid  year first_epid last_epid n_episodes\n  <dbl> <dbl>      <dbl>     <dbl>      <dbl>\n1     1  1975   19751011  19760731         24\n2     2  1976   19760918  19770521         22\n3     3  1977   19770924  19780520         20\n4     4  1978   19781007  19790526         20\n5     5  1979   19791013  19800524         20\n6     6  1980   19801115  19810411         13\n```\n:::\n:::\n\nThis dataset appears to talk about the number of episodes that were telecasted during different years.\n\nThe dimensions of the dataset are as follows:\n\n::: {.cell}\n\n```{.r .cell-code}\ndim(data_seasons)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 46  5\n```\n:::\n:::\n\n\n## Tidying Data\nLet the target be to find the cast members who made most number of appearances on SNL. So first we'll need to re-structure the casts dataset and obtain a new dataframe comprising of total number of appearances made by each actor.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodified_data_casts <- data_casts %>%\n                        group_by(aid) %>%\n                        select(-last_epid, -first_epid) %>%\n                        summarise(total_appearances = sum(n_episodes))\nhead(modified_data_casts)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 2\n  aid              total_appearances\n  <chr>                        <dbl>\n1 A. Whitney Brown               101\n2 Abby Elliott                    81\n3 Adam Sandler                    89\n4 Aidy Bryant                    182\n5 Al Franken                     200\n6 Alan Zweibel                     5\n```\n:::\n:::\n\nNow we have each of the cast members and the number of episodes in which they appeared in. Now this dataset can be merged with the actors dataset to observe many other things such as what is the distribution of the cast members in SNL and how often did they make their appearances on the SNL.\n\n## Join Data\n\nNow we join the modified_data_casts with the actors dataframe and it can be done as follows:\n\n::: {.cell}\n\n```{.r .cell-code}\ncombined_cast_data <- modified_data_casts %>%\n                        left_join(data_actors, by='aid')\nhead(combined_cast_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 5\n  aid              total_appearances url         type  gender\n  <chr>                        <dbl> <chr>       <chr> <chr> \n1 A. Whitney Brown               101 /Cast/?AWBr cast  male  \n2 Abby Elliott                    81 /Cast/?AbEl cast  female\n3 Adam Sandler                    89 /Cast/?AdSa cast  male  \n4 Aidy Bryant                    182 /Cast/?AiBr cast  female\n5 Al Franken                     200 /Cast/?AlFr cast  male  \n6 Alan Zweibel                     5 /Cast/?AlZw cast  male  \n```\n:::\n:::\n\n\nNow we can plot the box plot to obtain statistics about the appearances of cast on SNL.\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(combined_cast_data)+\n  geom_boxplot(aes(x = gender, y = total_appearances))+\n  labs(title = \"Box plot representing the distributions of appearances based on gender\")\n```\n\n::: {.cell-output-display}\n![](PranavKomaravolu_Challenge8_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "PranavKomaravolu_Challenge8_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}