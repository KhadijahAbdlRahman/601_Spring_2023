{
  "hash": "4e3e73d5f0d4401924773e7cf6ecc0ef",
  "result": {
    "markdown": "---\ntitle: \"2003-2021 Average Debt of Various Household Expenses\"\nauthor: \"Michele Carlin\"\ndesription: \"Imported, Tidied, and Summarized data\"\ndate: \"03/20/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_4\n  - Michele Carlin\n  - debt\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(summarytools)\nlibrary(dbplyr)\nlibrary(readxl)\n\nknitr::opts_chunk$set(echo = TRUE)\n```\n:::\n\n\nRead in and view summary of 'debt_in_trillions' dataset.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsheet_names <- excel_sheets(\"_data/debt_in_trillions.xlsx\")\nsheet_names \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Sheet1\"\n```\n:::\n\n```{.r .cell-code}\ndebt_trillions <- read_xlsx (\"_data/debt_in_trillions.xlsx\")\nView(debt_trillions)\nview(dfSummary(debt_trillions))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSwitching method to 'browser'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nOutput file written: C:\\Users\\CarlinML\\AppData\\Local\\Temp\\RtmpKOdhK1\\file84481a057024.html\n```\n:::\n:::\n\n\nThis dataset contains 74 rows and 8 columns.  Each row represents a particular year/quarter and provides the average debt in trillions for various types of household expenses (e.g., mortgage, auto loan, credit card, etc.). \n\nPivot longer so that each row contains one observation.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndebt_trillions_long <- pivot_longer(debt_trillions, col = c(Mortgage, 'HE Revolving', 'Auto Loan', 'Credit Card', 'Student Loan', Other, Total),\n                 names_to=\"debt_type\",\n                 values_to = \"value\")\nView(debt_trillions_long)\nview(dfSummary(debt_trillions_long))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSwitching method to 'browser'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nOutput file written: C:\\Users\\CarlinML\\AppData\\Local\\Temp\\RtmpKOdhK1\\file844863283ffd.html\n```\n:::\n:::\n\n\nSeparate year and quarter into separate variables.\nSummarize average debt by type of debt.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndebt_trillions_long %>%\n  separate(\"Year and Quarter\", c(\"year\", \"quarter\"), \":\") %>%\n group_by(year, debt_type) %>%\n  summarise(Avg_Debt = mean(value),\n            Min_Debt = min(value),\n            Max_Debt = max(value))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`summarise()` has grouped output by 'year'. You can override using the\n`.groups` argument.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 133 × 5\n# Groups:   year [19]\n   year  debt_type    Avg_Debt Min_Debt Max_Debt\n   <chr> <chr>           <dbl>    <dbl>    <dbl>\n 1 03    Auto Loan       0.663    0.622    0.704\n 2 03    Credit Card     0.693    0.688    0.698\n 3 03    HE Revolving    0.268    0.242    0.302\n 4 03    Mortgage        5.22     4.94     5.66 \n 5 03    Other           0.472    0.449    0.486\n 6 03    Student Loan    0.246    0.241    0.253\n 7 03    Total           7.56     7.23     8.07 \n 8 04    Auto Loan       0.736    0.72     0.751\n 9 04    Credit Card     0.704    0.695    0.717\n10 04    HE Revolving    0.397    0.328    0.468\n# … with 123 more rows\n```\n:::\n:::\n\n\nSummarize total debt only by year.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndebt_trillions_long %>%\n  separate(\"Year and Quarter\", c(\"year\", \"quarter\"), \":\") %>%\n  filter(debt_type == 'Total') %>%\n  group_by(year, debt_type) %>%\n  summarise(Avg_Debt = mean(value),\n            Min_Debt = min(value),\n            Max_Debt = max(value))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`summarise()` has grouped output by 'year'. You can override using the\n`.groups` argument.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 19 × 5\n# Groups:   year [19]\n   year  debt_type Avg_Debt Min_Debt Max_Debt\n   <chr> <chr>        <dbl>    <dbl>    <dbl>\n 1 03    Total         7.56     7.23     8.07\n 2 04    Total         8.66     8.29     9.04\n 3 05    Total         9.62     9.21    10.0 \n 4 06    Total        10.9     10.4     11.3 \n 5 07    Total        12.0     11.5     12.4 \n 6 08    Total        12.6     12.5     12.7 \n 7 09    Total        12.3     12.2     12.5 \n 8 10    Total        11.9     11.7     12.1 \n 9 11    Total        11.7     11.5     11.8 \n10 12    Total        11.4     11.3     11.4 \n11 13    Total        11.3     11.2     11.5 \n12 14    Total        11.7     11.6     11.8 \n13 15    Total        12.0     11.9     12.1 \n14 16    Total        12.4     12.3     12.6 \n15 17    Total        12.9     12.7     13.1 \n16 18    Total        13.4     13.2     13.5 \n17 19    Total        13.9     13.7     14.1 \n18 20    Total        14.4     14.3     14.6 \n19 21    Total        14.8     14.6     15.0 \n```\n:::\n:::\n\n\nRead in and view summary of 'abc polls' dataset.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nabc_poll <- read_csv (\"_data/abc_poll_2021.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 527 Columns: 31\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (28): xspanish, complete_status, ppeduc5, ppeducat, ppgender, ppethm, pp...\ndbl  (3): id, ppage, weights_pid\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nView(abc_poll)\nview(dfSummary(abc_poll))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSwitching method to 'browser'\nOutput file written: C:\\Users\\CarlinML\\AppData\\Local\\Temp\\RtmpKOdhK1\\file84486fb97ab3.html\n```\n:::\n:::\n\n\nRemove 'skipped' answers from Q1_a variable.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable(select(abc_poll, Q1_a))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nQ1_a\n   Approve Disapprove    Skipped \n       329        193          5 \n```\n:::\n\n```{.r .cell-code}\nabc_poll <- abc_poll%>%\n  mutate(Q1_a = str_remove(Q1_a, \"Skipped\"))\n\ntable(select(abc_poll, Q1_a))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nQ1_a\n              Approve Disapprove \n         5        329        193 \n```\n:::\n:::\n\n\n\nSpecify the order of the ppinc7 values.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nppinc7 <- factor('ppinc7', ordered = TRUE, levels = c(\"$150,000 or more\", \"$100,000 to $149,999\", \"$75,000 to $99,999\", \"$50,000 to $74,999\", \"$25,000 to $49,999\", \"$10,000 to $24,999\", \"Less than $10,000\"))\nppinc7\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] <NA>\n7 Levels: $150,000 or more < $100,000 to $149,999 < ... < Less than $10,000\n```\n:::\n\n```{.r .cell-code}\ntable(ppinc7)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nppinc7\n    $150,000 or more $100,000 to $149,999   $75,000 to $99,999 \n                   0                    0                    0 \n  $50,000 to $74,999   $25,000 to $49,999   $10,000 to $24,999 \n                   0                    0                    0 \n   Less than $10,000 \n                   0 \n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}