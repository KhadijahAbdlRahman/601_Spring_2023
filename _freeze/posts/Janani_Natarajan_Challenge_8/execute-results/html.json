{
  "hash": "e69a9129603f690f94d381a0ca74546b",
  "result": {
    "markdown": "---\ntitle: \"Challenge 8\"\nauthor: \"Meredith Rolfe\"\ndescription: \"Joining Data\"\ndate: \"05/14/2023\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_8\n  - railroads\n  - snl\n  - faostat\n  - debt\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(ggplot2)\nlibrary(readr)\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Read in data\n\nRead in one (or more) of the following datasets, using the correct R package and command.\n\n-   military marriages ⭐⭐\n-   faostat ⭐⭐\n-   railroads ⭐⭐⭐\n-   fed_rate ⭐⭐⭐\n-   debt ⭐⭐⭐\n-   us_hh ⭐⭐⭐⭐\n-   snl ⭐⭐⭐⭐⭐\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndfactors <- read.csv(file = \"_data/snl_actors.csv\",\n                header=TRUE,\n                sep = \",\"\n                )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndfcasts <- read.csv(file = \"_data/snl_casts.csv\",\n                header=TRUE,\n                sep = \",\"\n                )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndfseasons <- read.csv(file = \"_data/snl_seasons.csv\",\n                header=TRUE,\n                sep = \",\"\n                )\n```\n:::\n\n\n### Briefly describe the data\n\nThe dfactor dataset contains 2306 rows and four columns, with each row representing a unique actor and detailed information provided in each column. The first column contains the actor's name, the second column contains a corresponding URL, the third column identifies whether the actor was a cast member or a guest, and the fourth column specifies the actor's gender. All variables in the dataset are categorical/character data.\n\nThe dfcast dataset contains 614 rows and eight columns. This dataset covers 46 seasons of the show from 1975 to 2020, including information about the cast members but not the guests. The dataset includes each cast member's first and last episode dates, whether they were an Update Anchor, and the number of episodes they appeared in for each season. Additionally, the dataset provides the proportion of episodes in which each cast member appeared.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(dfactors)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n             aid           url  type  gender\n1  Kate McKinnon   /Cast/?KaMc  cast  female\n2    Alex Moffat   /Cast/?AlMo  cast    male\n3     Ego Nwodim   /Cast/?EgNw  cast unknown\n4     Chris Redd   /Cast/?ChRe  cast    male\n5 Kenan Thompson   /Cast/?KeTh  cast    male\n6 Carey Mulligan /Guests/?3677 guest    andy\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(dfcasts)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n               aid sid featured first_epid last_epid update_anchor n_episodes\n1 A. Whitney Brown  11     True   19860222        NA         False          8\n2 A. Whitney Brown  12     True         NA        NA         False         20\n3 A. Whitney Brown  13     True         NA        NA         False         13\n4 A. Whitney Brown  14     True         NA        NA         False         20\n5 A. Whitney Brown  15     True         NA        NA         False         20\n6 A. Whitney Brown  16     True         NA        NA         False         20\n  season_fraction\n1       0.4444444\n2       1.0000000\n3       1.0000000\n4       1.0000000\n5       1.0000000\n6       1.0000000\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(dfseasons)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  sid year first_epid last_epid n_episodes\n1   1 1975   19751011  19760731         24\n2   2 1976   19760918  19770521         22\n3   3 1977   19770924  19780520         20\n4   4 1978   19781007  19790526         20\n5   5 1979   19791013  19800524         20\n6   6 1980   19801115  19810411         13\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(dfactors)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"aid\"    \"url\"    \"type\"   \"gender\"\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(dfcasts)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"aid\"             \"sid\"             \"featured\"        \"first_epid\"     \n[5] \"last_epid\"       \"update_anchor\"   \"n_episodes\"      \"season_fraction\"\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(dfseasons)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"sid\"        \"year\"       \"first_epid\" \"last_epid\"  \"n_episodes\"\n```\n:::\n:::\n\n\n## Tidy Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndfactors<- na.omit(dfactors)\ndfcasts<- na.omit(dfcasts)\ndfseasons<- na.omit(dfseasons)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(dfcasts)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"aid\"             \"sid\"             \"featured\"        \"first_epid\"     \n[5] \"last_epid\"       \"update_anchor\"   \"n_episodes\"      \"season_fraction\"\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(dfactors)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"aid\"    \"url\"    \"type\"   \"gender\"\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndfactors <- dfactors %>%\n  mutate(appearances = rowSums(select(., starts_with(\"ep_\")), na.rm = TRUE))\n```\n:::\n\n\n## Join Data\n\nBe sure to include a sanity check, and double-check that case count is correct!\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncasts_actors <- dfcasts %>%\n  left_join(dfactors, by = \"aid\") %>%\n  select(sid, type, gender, featured, appearances)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- dfseasons %>%\n  left_join(df_casts_actors, by = \"sid\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in is.data.frame(y): object 'df_casts_actors' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nNULL\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(casts_actors)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"sid\"         \"type\"        \"gender\"      \"featured\"    \"appearances\"\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\njoined_data <- dfcasts %>%\n  select(-update_anchor, -season_fraction, -n_episodes) %>%\n  left_join(dfseasons, by=\"sid\")\n\njoined_data\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] aid          sid          featured     first_epid.x last_epid.x \n[6] year         first_epid.y last_epid.y  n_episodes  \n<0 rows> (or 0-length row.names)\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(joined_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"aid\"          \"sid\"          \"featured\"     \"first_epid.x\" \"last_epid.x\" \n[6] \"year\"         \"first_epid.y\" \"last_epid.y\"  \"n_episodes\"  \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncasts_actors %>%\n  ggplot(aes(sid, featured)) +\n  geom_point() + \n  labs(title = \"Featured\")\n```\n\n::: {.cell-output-display}\n![](Janani_Natarajan_Challenge_8_files/figure-html/unnamed-chunk-21-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncasts_actors %>%\n  ggplot(aes(sid, col=gender)) +\n  geom_histogram() + \n  labs(title = \"Gender Makeup\")\n```\n\n::: {.cell-output-display}\n![](Janani_Natarajan_Challenge_8_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "Janani_Natarajan_Challenge_8_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}