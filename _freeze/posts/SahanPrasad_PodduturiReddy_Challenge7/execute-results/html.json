{
  "hash": "a48ee255b9110c0039bd807cc88bd51e",
  "result": {
    "markdown": "---\ntitle: \"Eggs Sold Graph Visualizations\"\nauthor: \"Sahan Prasad Podduturi Reddy\"\ndescription: \"Visualizing Multiple Dimensions\"\ndate: \"05/11/2023\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_7\n  - eggs\n  - Sahan Prasad Podduturi Reddy\n---\n\n\n## Introduction\n\nI was trying to analyze the 'hotel_bookings.csv' dataset. This dataset contains information about quantity of eggs sold between 2004-2013. It lists 4 different package types - large_half_dozen, extra_large_half_dozen, large_dozen, extra_large_dozen . We first start by importing the necessary libraries and setting the working directory to point to the location where the spreadsheet is located. Then we read in the csv file.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(readxl)\nlibrary(lubridate)\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\nsetwd(\"D:/MyDocs/Class Slides/DACSS601/601_Spring_2023/posts/_data\")\neggs <- read.csv(\"eggs_tidy.csv\")\nhead(eggs)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     month year large_half_dozen large_dozen extra_large_half_dozen\n1  January 2004            126.0     230.000                  132.0\n2 February 2004            128.5     226.250                  134.5\n3    March 2004            131.0     225.000                  137.0\n4    April 2004            131.0     225.000                  137.0\n5      May 2004            131.0     225.000                  137.0\n6     June 2004            133.5     231.375                  137.0\n  extra_large_dozen\n1             230.0\n2             230.0\n3             230.0\n4             234.5\n5             236.0\n6             241.0\n```\n:::\n:::\n\n\n## Read and Tidy Data\n\nWe first read in the dataset into our dataframe and sort months by chronological order. Then we pivot the data such that package types are all in a single column while the Quantities are in a separate column. This makes it easier for us to meaningfully visualize our data. We also append a month_number column to our dataframe so that we can plot line graphs because they need continuous data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmonth_order <- c(\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\")\neggs$month <- factor(eggs$month, levels = month_order)\neggs_one <- eggs[order(eggs$month),] %>% group_by(month) %>% summarise(\"large_half_dozen\" = sum(large_half_dozen), \"large_dozen\" = sum(large_dozen), \"extra_large_half_dozen\" = sum(extra_large_half_dozen), \"extra_large_dozen\" = sum(extra_large_dozen)) %>% pivot_longer(cols = c(large_half_dozen, extra_large_half_dozen, large_dozen, extra_large_dozen), names_to = \"size\", values_to = \"quantity\") %>% ungroup() %>% mutate(month_number = match(month, month.name))\nhead(eggs_one)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 4\n  month    size                   quantity month_number\n  <fct>    <chr>                     <dbl>        <int>\n1 January  large_half_dozen          1520.            1\n2 January  extra_large_half_dozen    1608.            1\n3 January  large_dozen               2519             1\n4 January  extra_large_dozen         2630.            1\n5 February large_half_dozen          1525.            2\n6 February extra_large_half_dozen    1613.            2\n```\n:::\n:::\n\n\n## Visualization with Multiple Dimensions\n\nWe first plot a grouped bar chart which indicates the quantities sold per month over all year values in our dataframe. We use the position=\"dodge\" attribute to plot bars side-by-side so that we can directly compare quantities sold for different packages types. We notice that the quantity sold for each package type doesn't fluctuate much over the months of the year. We also plot a geom_point() graph which confirms our observations. \"Dozen\" size packages are much more in demand than \"Half-Dozen\" size packages. There is a slight increase in egg sales around June and then the sales remain the same till the end of the Year. We also do another visualization of the Quantity of Eggs sold over the Year by plotting graphs for different years in the dataset. On doing so, we notice how the current rate of Eggs sold was reached through the years.\n\n\n::: {.cell}\n\n```{.r .cell-code}\neggs_one %>% \n    ggplot(aes(y=`quantity`, x=month, fill=size)) +\n    geom_bar(position=\"dodge\", stat=\"identity\") +\n    labs(title = \"Quantity of Eggs Sold 2004-2013\", x = \"Month\", y = \"Quantity\")\n```\n\n::: {.cell-output-display}\n![](SahanPrasad_PodduturiReddy_Challenge7_files/figure-html/Visualization-1.png){width=672}\n:::\n\n```{.r .cell-code}\neggs_one %>% \n    ggplot(aes(y=`quantity`, x=month, color=size, shape=size)) +\n    geom_point() +\n    theme_bw()\n```\n\n::: {.cell-output-display}\n![](SahanPrasad_PodduturiReddy_Challenge7_files/figure-html/Visualization-2.png){width=672}\n:::\n\n```{.r .cell-code}\n    labs(title = \"Quantity of Eggs Sold 2004-2013\", x = \"Month\", y = \"Quantity\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$x\n[1] \"Month\"\n\n$y\n[1] \"Quantity\"\n\n$title\n[1] \"Quantity of Eggs Sold 2004-2013\"\n\nattr(,\"class\")\n[1] \"labels\"\n```\n:::\n\n```{.r .cell-code}\neggs_two <- eggs[order(eggs$month),] %>% group_by(month, year) %>% mutate(total = `large_half_dozen`+`large_dozen`+`extra_large_half_dozen`+`extra_large_dozen`) %>% mutate(month_number = match(month, month.name)) %>% select(month, year, month_number, total)\n  eggs_two\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 120 × 4\n# Groups:   month, year [120]\n   month    year month_number total\n   <fct>   <int>        <int> <dbl>\n 1 January  2004            1  718 \n 2 January  2005            1  738.\n 3 January  2006            1  738.\n 4 January  2007            1  739 \n 5 January  2008            1  753 \n 6 January  2009            1  923 \n 7 January  2010            1  917 \n 8 January  2011            1  913 \n 9 January  2012            1  913 \n10 January  2013            1  924.\n# … with 110 more rows\n```\n:::\n\n```{.r .cell-code}\n  eggs_two %>% \n    ggplot(aes(y=`total`, x=month_number)) +\n    geom_line() +\n    facet_wrap(vars(year), scales = \"free\")\n```\n\n::: {.cell-output-display}\n![](SahanPrasad_PodduturiReddy_Challenge7_files/figure-html/Visualization-3.png){width=672}\n:::\n\n```{.r .cell-code}\n    labs(title = \"Quantity of Eggs Sold 2004-2013\", x = \"Month\", y = \"Quantity\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$x\n[1] \"Month\"\n\n$y\n[1] \"Quantity\"\n\n$title\n[1] \"Quantity of Eggs Sold 2004-2013\"\n\nattr(,\"class\")\n[1] \"labels\"\n```\n:::\n:::",
    "supporting": [
      "SahanPrasad_PodduturiReddy_Challenge7_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}