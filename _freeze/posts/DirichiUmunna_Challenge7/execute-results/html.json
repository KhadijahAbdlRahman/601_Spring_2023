{
  "hash": "e0d129eec748f74a24efc243bb76f87a",
  "result": {
    "markdown": "---\ntitle: \"Challenge 7: Visualizing Debt Over Time\"\nauthor: \"Dirichi Umunna\"\ndescription: \"Visualizing Multiple Dimensions\"\ndate: \"05/05/2023\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_7\n  - debt\n  - Dirichi Umunna\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(lubridate)\nlibrary(dplyr)\n\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Read in Data\n\nFor this assignment, I will be working with the same dataset as in Challenge 7. This dataset contains quarterly measurements of household debt, specifically related to different types of loans. It serves as an extension of the previous challenge, allowing for further analysis and exploration of the data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndebtnew1 <- read_excel(\"_data/debt_in_trillions.xlsx\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in read_excel(\"_data/debt_in_trillions.xlsx\"): could not find function \"read_excel\"\n```\n:::\n\n```{.r .cell-code}\n# add another date variable\ndebtnew1 <- debtnew1 %>%\n  separate(`Year and Quarter`, into = c(\"Year\", \"Quarter\"), sep = \":Q\") %>%\n  mutate(Year = paste0(\"20\", Year)) %>%\n  mutate(Year = as.numeric(Year))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in separate(., `Year and Quarter`, into = c(\"Year\", \"Quarter\"), : object 'debtnew1' not found\n```\n:::\n\n```{.r .cell-code}\n# making a pivot longer dataset\n  longerdebt <- debtnew1 %>%\n  pivot_longer(cols = -c(Year, Total, Quarter), names_to = \"Loan Type\", values_to = \"Debt\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in pivot_longer(., cols = -c(Year, Total, Quarter), names_to = \"Loan Type\", : object 'debtnew1' not found\n```\n:::\n:::\n\n\nHere, we read in the dataset and used the pivot longer function for ease of visualization.\n\n## Bivariate Analysis\n\n\n::: {.cell}\n\n```{.r .cell-code}\n##next, try to stack the data\n\nggplot(longerdebt, aes(x = Year, y = `Total`, fill = `Loan Type`)) +\n  geom_bar(stat = \"identity\") +\n  labs(x = \"Year\", y = \" Total Debt Amount\", fill = \"Debt Type\") +\n  ggtitle(\"Stacked Bar Graph: Debt Types by Year\") +\n  scale_x_discrete(breaks = unique(longerdebt$Year))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in ggplot(longerdebt, aes(x = Year, y = Total, fill = `Loan Type`)): object 'longerdebt' not found\n```\n:::\n:::\n\n\nHere, we created a stacked bar showing the composition of different debt types by their respective debt amounts\n\n## Time Relationship\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(longerdebt, aes(x = Year, y = `Total`, fill = `Loan Type`)) +\n  geom_bar(stat = \"identity\") +\n  labs(x = \"Year\", y = \"Total Debt Amount\", fill = \"Debt Type\") +\n  ggtitle(\"Stacked Bar Graph: Debt Types by Year\") +\n  scale_x_continuous(breaks = seq(2000, 2025, by = 5)) +\n  theme_minimal()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in ggplot(longerdebt, aes(x = Year, y = Total, fill = `Loan Type`)): object 'longerdebt' not found\n```\n:::\n:::\n\n\nHere, we utilize a scatter plot to examine the total debt over time. But what if we could show debt over time for each category of debt?\n\n## Multi-dimension Time Relationship\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolor_palette <- c(\"Mortgage\" = \"#FF0000\",\n                   \"HE Revolving\" = \"#00FF00\",\n                   \"Auto Loan\" = \"#0000FF\",\n                   \"Credit Card\" = \"#FFFF00\",\n                   \"Student Loan\" = \"#00FFFF\",\n                   \"Other\" = \"#FF00FF\")\n\nggplot(longerdebt, aes(x = Year, y = Total, color = `Loan Type`)) +\n  geom_point(size = 6) +\n  labs(x = \"Year\", y = \"Debt Amount\", color = \"Debt Category\") +\n  ggtitle(\"Debt Over Time by Category\") +\n  theme_minimal() +\n  scale_color_manual(values = color_palette)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in ggplot(longerdebt, aes(x = Year, y = Total, color = `Loan Type`)): object 'longerdebt' not found\n```\n:::\n:::\n\n\nIn this analysis, I defined distinct color codes for each loan type and manually assigned them. I then created a multi-dimensional time relationship graph using a scatter plot. The scatter plot allowed us to visualize the changing patterns of debt over time for different loan types. Each loan type was represented by a unique color, making it easier to differentiate between the categories and observe their respective trends. I can only see one color here so I might have failed at doing something correctly.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}