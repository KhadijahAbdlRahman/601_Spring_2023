{
  "hash": "de6e6821f48168f59d6462d76f65693e",
  "result": {
    "markdown": "---\ntitle: \"Challenge 3\"\nauthor: \"Poobigan Murugesan\"\ndescription: \"Tidy Data: Pivoting\"\ndate: \"05/10/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_3\n  - animal_weights\n  - poobigan murugesan\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(readr)\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1.  read in a data set, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2.  identify what needs to be done to tidy the current data\n3.  anticipate the shape of pivoted data\n4.  pivot the data into tidy format using `pivot_longer`\n\n## Read in data\n\nRead in one (or more) of the following datasets, using the correct R package and command.\n\n-   animal_weights.csv ‚≠ê\n-   eggs_tidy.csv ‚≠ê‚≠ê or organiceggpoultry.xls ‚≠ê‚≠ê‚≠ê\n-   australian_marriage\\*.xls ‚≠ê‚≠ê‚≠ê\n-   USA Households\\*.xlsx ‚≠ê‚≠ê‚≠ê‚≠ê\n-   sce_labor_chart_data_public.xlsx üåüüåüüåüüåüüåü\n\n\nReading in data\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- read_csv(\"_data/animal_weight.csv\", show_col_types=FALSE)\nhead(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 √ó 17\n  `IPCC Area`   `Cattle - dairy` `Cattle - non-dairy` Buffaloes `Swine - market`\n  <chr>                    <dbl>                <dbl>     <dbl>            <dbl>\n1 Indian Subco‚Ä¶              275                  110       295               28\n2 Eastern Euro‚Ä¶              550                  391       380               50\n3 Africa                     275                  173       380               28\n4 Oceania                    500                  330       380               45\n5 Western Euro‚Ä¶              600                  420       380               50\n6 Latin America              400                  305       380               28\n# ‚Ñπ 12 more variables: `Swine - breeding` <dbl>, `Chicken - Broilers` <dbl>,\n#   `Chicken - Layers` <dbl>, Ducks <dbl>, Turkeys <dbl>, Sheep <dbl>,\n#   Goats <dbl>, Horses <dbl>, Asses <dbl>, Mules <dbl>, Camels <dbl>,\n#   Llamas <dbl>\n```\n:::\n:::\n\n\n### Briefly describe the data\n\nDimensions of the dataset\n\n::: {.cell}\n\n```{.r .cell-code}\ndim(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1]  9 17\n```\n:::\n\n```{.r .cell-code}\nsummary(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  IPCC Area         Cattle - dairy  Cattle - non-dairy   Buffaloes    \n Length:9           Min.   :275.0   Min.   :110        Min.   :295.0  \n Class :character   1st Qu.:275.0   1st Qu.:173        1st Qu.:380.0  \n Mode  :character   Median :400.0   Median :330        Median :380.0  \n                    Mean   :425.4   Mean   :298        Mean   :370.6  \n                    3rd Qu.:550.0   3rd Qu.:391        3rd Qu.:380.0  \n                    Max.   :604.0   Max.   :420        Max.   :380.0  \n Swine - market  Swine - breeding Chicken - Broilers Chicken - Layers\n Min.   :28.00   Min.   : 28.0    Min.   :0.9        Min.   :1.8     \n 1st Qu.:28.00   1st Qu.: 28.0    1st Qu.:0.9        1st Qu.:1.8     \n Median :45.00   Median :180.0    Median :0.9        Median :1.8     \n Mean   :39.22   Mean   :116.4    Mean   :0.9        Mean   :1.8     \n 3rd Qu.:50.00   3rd Qu.:180.0    3rd Qu.:0.9        3rd Qu.:1.8     \n Max.   :50.00   Max.   :198.0    Max.   :0.9        Max.   :1.8     \n     Ducks        Turkeys        Sheep           Goats           Horses     \n Min.   :2.7   Min.   :6.8   Min.   :28.00   Min.   :30.00   Min.   :238.0  \n 1st Qu.:2.7   1st Qu.:6.8   1st Qu.:28.00   1st Qu.:30.00   1st Qu.:238.0  \n Median :2.7   Median :6.8   Median :48.50   Median :38.50   Median :377.0  \n Mean   :2.7   Mean   :6.8   Mean   :39.39   Mean   :34.72   Mean   :315.2  \n 3rd Qu.:2.7   3rd Qu.:6.8   3rd Qu.:48.50   3rd Qu.:38.50   3rd Qu.:377.0  \n Max.   :2.7   Max.   :6.8   Max.   :48.50   Max.   :38.50   Max.   :377.0  \n     Asses         Mules         Camels        Llamas   \n Min.   :130   Min.   :130   Min.   :217   Min.   :217  \n 1st Qu.:130   1st Qu.:130   1st Qu.:217   1st Qu.:217  \n Median :130   Median :130   Median :217   Median :217  \n Mean   :130   Mean   :130   Mean   :217   Mean   :217  \n 3rd Qu.:130   3rd Qu.:130   3rd Qu.:217   3rd Qu.:217  \n Max.   :130   Max.   :130   Max.   :217   Max.   :217  \n```\n:::\n:::\n\nThe \"animal_weight.csv\" dataset contains weights of various types of animals/livestock(like Ducks, Turkeys, Sheep, Goats, etc) according to the region they are found in. There are 9 rows(regions) and 17 columns in the dataset, including 1 column for the region. Having too many columns makes this dataset difficult to interpret. We can pivot the dataset to restructure it efficiently.\n\n### Anticipate the End Result and final dimensions\n\nThe end result would have 3 columns, 1 each for region, animal type and weight. So the expected number of rows would be 9 x (17-1) which is 144.\n\nExpected pivoted dataset dimensions: 144x3 \n\n## Pivot the Data\n\nNow we will pivot the data, and compare our pivoted data dimensions to the dimensions calculated above as a \"sanity\" check.\n\n\n\n\n::: {.cell tbl-cap='Pivoted Example'}\n\n```{.r .cell-code}\ndf_pivoted<-pivot_longer(df, col =-`IPCC Area`,\n                 names_to=\"animal_type\",\n                 values_to = \"animal_weight\")\ndf_pivoted\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 144 √ó 3\n   `IPCC Area`         animal_type        animal_weight\n   <chr>               <chr>                      <dbl>\n 1 Indian Subcontinent Cattle - dairy             275  \n 2 Indian Subcontinent Cattle - non-dairy         110  \n 3 Indian Subcontinent Buffaloes                  295  \n 4 Indian Subcontinent Swine - market              28  \n 5 Indian Subcontinent Swine - breeding            28  \n 6 Indian Subcontinent Chicken - Broilers           0.9\n 7 Indian Subcontinent Chicken - Layers             1.8\n 8 Indian Subcontinent Ducks                        2.7\n 9 Indian Subcontinent Turkeys                      6.8\n10 Indian Subcontinent Sheep                       28  \n# ‚Ñπ 134 more rows\n```\n:::\n\n```{.r .cell-code}\ndim(df_pivoted)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 144   3\n```\n:::\n:::\n\n\nAfter pivoting our data using pivot_longer(), our resulting data is $144x3$ - exactly what we expected! Making the data more user-friendly and readable.\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}