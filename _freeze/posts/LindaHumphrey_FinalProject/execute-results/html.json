{
  "hash": "0a5f33958a0dd99d5f2ecec82a62133d",
  "result": {
    "markdown": "---\ntitle: \"Final Project\"\nauthor: \"Linda Humphrey\"\ndesription: \"Malaria\"\ndate: \"05/22/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\n    \ncategories:\n  - Final Project: Malaria\n  - data: number-of-malaria-cases-in-tanzania-2010-2021.xlsx\n  - name: Linda Humphrey\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Introduction\nIn sub-Saharan Africa, malaria is one of the leading causes of illness and death. The disease affects millions of people each year, particularly young children and pregnant women.\n\n\n## Reading dataset\n\nAs we can see from the graph, the number of malaria cases in sub-Saharan Africa has been decreasing over the past decade. This is partly due to increased efforts to control and prevent the disease, including the distribution of insecticide-treated bed nets and the use of antimalarial drugs.\nHowever, the fight against malaria is far from over. According to WHO, sub-Saharan Africa still accounted for 94% of all malaria cases and deaths in 2019. The visualization below shows the number of deaths FROM 2000 UPT 2020 due to malaria in sub-Saharan Africa over time:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidyr)\n\n# Read in the csv file\nMALARIA_EST_DEATHS <- read.csv(\"~/Desktop/601_Spring_2023/posts/LindaHumphrey_FinalProjectDataFolder/MALARIA_EST_DEATHS.csv\")\n\nView(MALARIA_EST_DEATHS)\n```\n:::\n\n\n# Tidy Malaria_imported data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidyr)\n\n# Read in the csv file\nMALARIA_IMPORTED <- read.csv(\"~/Desktop/601_Spring_2023/posts/LindaHumphrey_FinalProjectDataFolder/MALARIA_IMPORTED.csv\")\n\nMALARIA_IMPORTED <- MALARIA_IMPORTED %>%\n  select(X, Number.of.imported.malaria.cases, Number.of.imported.malaria.cases.1, Number.of.imported.malaria.cases.2, Number.of.imported.malaria.cases.3 ) %>%\n  rename('Country' = X, 'Number.of.imported.malaria.cases' = 2020, 'Number.of.imported.malaria.cases.1' = 2019, 'Number.of.imported.malaria.cases.2' = 2018, 'Number.of.imported.malaria.cases.3' = 2017)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in `rename()`:\n! Can't rename columns that don't exist.\nℹ Locations 2020, 2019, 2018, and 2017 don't exist.\nℹ There are only 5 columns.\n```\n:::\n:::\n\n\n# EXPLORE DATA\n\nData visualizations can help us understand the extent of the problem. For instance, the World Health Organization (WHO) provides data on the number of confirmed malaria cases in different regions of the world. The visualization below shows the number of cases in sub-Saharan Africa over time:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\n# Read in the csv file\nMALARIA_IMPORTED <- read.csv(\"~/Desktop/601_Spring_2023/posts/LindaHumphrey_FinalProjectDataFolder/MALARIA_IMPORTED.csv\")\n\nggplot(data = MALARIA_IMPORTED, aes(x = , y = Cases)) +\n  geom_line() +\n  labs(title = \"Malaria Cases in Sub-Saharan Africa\",\n       x = \"X\",\n       y = \"Number of Cases\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in `geom_line()`:\n! Problem while computing aesthetics.\nℹ Error occurred in the 1st layer.\nCaused by error in `FUN()`:\n! object 'Cases' not found\n```\n:::\n:::\n\n\n# Exploratory Data Analysis\nAs we can see from the graph, although the number of deaths due to malaria has decreased over the past decade, it still remains a significant public health issue in the region.\nOne of the challenges in fighting malaria in sub-Saharan Africa is the high incidence of drug-resistant strains of the malaria parasite. The visualization below shows the percentage of confirmed malaria cases in sub-Saharan Africa that were resistant to antimalarial drugs:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load required packages\nlibrary(tidyverse)\nlibrary(ggplot2)\n\n#Read data file incidence-of-malaria\nMALARIA_IMPORTED <- read.csv(\"~/Desktop/601_Spring_2023/posts/LindaHumphrey_FinalProjectDataFolder/MALARIA_IMPORTED.csv\")\n\n# View data using head() function to display first few rows\nhead(MALARIA_IMPORTED)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n           X Number.of.imported.malaria.cases\n1    Country                             2020\n2    Algeria                            2 725\n3  Argentina                                 \n4    Armenia                                3\n5 Azerbaijan                                 \n6 Bangladesh                                2\n  Number.of.imported.malaria.cases.1 Number.of.imported.malaria.cases.2\n1                               2019                               2018\n2                              1 014                              1 241\n3                                                                    23\n4                                                                     6\n5                                  0                                  2\n6                                  6                                 41\n  Number.of.imported.malaria.cases.3 Number.of.imported.malaria.cases.4\n1                               2017                               2016\n2                                446                                420\n3                                 18                                  7\n4                                  2                                  2\n5                                  1                                  1\n6                                 19                                109\n  Number.of.imported.malaria.cases.5 Number.of.imported.malaria.cases.6\n1                               2015                               2014\n2                                727                                260\n3                                 11                                 15\n4                                  2                                  1\n5                                  1                                  2\n6                                129                                   \n  Number.of.imported.malaria.cases.7 Number.of.imported.malaria.cases.8\n1                               2013                               2012\n2                                587                                828\n3                                 11                                 16\n4                                  0                                  4\n5                                  4                                  1\n6                                                                      \n  Number.of.imported.malaria.cases.9 Number.of.imported.malaria.cases.10\n1                               2011                                2010\n2                                187                                 396\n3                                 28                                  55\n4                                  0                                   1\n5                                  4                                   2\n6                                                                       \n```\n:::\n\n```{.r .cell-code}\n# Check the structure of the data using the str() function.\nstr(MALARIA_IMPORTED)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t59 obs. of  12 variables:\n $ X                                  : chr  \"Country\" \"Algeria\" \"Argentina\" \"Armenia\" ...\n $ Number.of.imported.malaria.cases   : chr  \" 2020\" \"2 725\" \"\" \"3\" ...\n $ Number.of.imported.malaria.cases.1 : chr  \" 2019\" \"1 014\" \"\" \"\" ...\n $ Number.of.imported.malaria.cases.2 : chr  \" 2018\" \"1 241\" \"23\" \"6\" ...\n $ Number.of.imported.malaria.cases.3 : chr  \" 2017\" \"446\" \"18\" \"2\" ...\n $ Number.of.imported.malaria.cases.4 : chr  \" 2016\" \"420\" \"7\" \"2\" ...\n $ Number.of.imported.malaria.cases.5 : chr  \" 2015\" \"727\" \"11\" \"2\" ...\n $ Number.of.imported.malaria.cases.6 : chr  \" 2014\" \"260\" \"15\" \"1\" ...\n $ Number.of.imported.malaria.cases.7 : chr  \" 2013\" \"587\" \"11\" \"0\" ...\n $ Number.of.imported.malaria.cases.8 : chr  \" 2012\" \"828\" \"16\" \"4\" ...\n $ Number.of.imported.malaria.cases.9 : chr  \" 2011\" \"187\" \"28\" \"0\" ...\n $ Number.of.imported.malaria.cases.10: chr  \" 2010\" \"396\" \"55\" \"1\" ...\n```\n:::\n\n```{.r .cell-code}\n# Check for missing values using the summary() function. \nsummary(MALARIA_IMPORTED)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      X             Number.of.imported.malaria.cases\n Length:59          Length:59                       \n Class :character   Class :character                \n Mode  :character   Mode  :character                \n Number.of.imported.malaria.cases.1 Number.of.imported.malaria.cases.2\n Length:59                          Length:59                         \n Class :character                   Class :character                  \n Mode  :character                   Mode  :character                  \n Number.of.imported.malaria.cases.3 Number.of.imported.malaria.cases.4\n Length:59                          Length:59                         \n Class :character                   Class :character                  \n Mode  :character                   Mode  :character                  \n Number.of.imported.malaria.cases.5 Number.of.imported.malaria.cases.6\n Length:59                          Length:59                         \n Class :character                   Class :character                  \n Mode  :character                   Mode  :character                  \n Number.of.imported.malaria.cases.7 Number.of.imported.malaria.cases.8\n Length:59                          Length:59                         \n Class :character                   Class :character                  \n Mode  :character                   Mode  :character                  \n Number.of.imported.malaria.cases.9 Number.of.imported.malaria.cases.10\n Length:59                          Length:59                          \n Class :character                   Class :character                   \n Mode  :character                   Mode  :character                   \n```\n:::\n\n```{.r .cell-code}\n# Plot the distribution of the Incidence variable using a histogram with the ggplot() function.\nggplot(MALARIA_IMPORTED, aes(x = Incidence.of.malaria..per.1.000.population.at.risk.)) +\n  geom_histogram()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in `geom_histogram()`:\n! Problem while computing aesthetics.\nℹ Error occurred in the 1st layer.\nCaused by error in `FUN()`:\n! object 'Incidence.of.malaria..per.1.000.population.at.risk.' not found\n```\n:::\n\n```{.r .cell-code}\n#Plot the incidence of malaria over time using a line chart with the ggplot() function. \nggplot(MALARIA_IMPORTED, aes(x = Year, y = Incidence.of.malaria..per.1.000.population.at.risk., color = Entity)) +\n  geom_line()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in `geom_line()`:\n! Problem while computing aesthetics.\nℹ Error occurred in the 1st layer.\nCaused by error in `FUN()`:\n! object 'Year' not found\n```\n:::\n\n```{.r .cell-code}\n# Calculate the mean and standard deviation of the incidence of malaria for each country using the group_by() and summarize() functions from the dplyr package, which is part of the tidyverse.\nincidence_of_malaria_summary <- MALARIA_IMPORTED %>%\n  group_by(Entity) %>%\n  summarize(mean_Incidence.of.malaria..per.1.000.population.at.risk. = mean(Incidence.of.malaria..per.1.000.population.at.risk.), \n            sd_Incidence.of.malaria..per.1.000.population.at.risk. = sd(Incidence.of.malaria..per.1.000.population.at.risk.))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in `group_by()`:\n! Must group by variables found in `.data`.\n✖ Column `Entity` is not found.\n```\n:::\n\n```{.r .cell-code}\n# Plot the mean incidence of malaria for each country using a bar chart with error bars showing the standard deviation\nggplot(incidence_of_malaria_summary, aes(x = Entity, y = mean_Incidence.of.malaria..per.1.000.population.at.risk., fill = Entity )) +\n  geom_bar(stat = \"Identity\") +\n  geom_errorbar(aes(ymin = mean_Incidence.of.malaria..per.1.000.population.at.risk. - sd_Incidence.of.malaria..per.1.000.population.at.risk., ymax = mean_Incidence.of.malaria..per.1.000.population.at.risk. + sd_Incidence.of.malaria..per.1.000.population.at.risk.), width = 0.4, position = position_dodge(width = 0.9)) +\n  coord_flip() +\n  labs(x = \"\", y = \"Mean Incidence of Malaria\", title = \"Mean Incidence of malaria by Entity\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in ggplot(incidence_of_malaria_summary, aes(x = Entity, y = mean_Incidence.of.malaria..per.1.000.population.at.risk., : object 'incidence_of_malaria_summary' not found\n```\n:::\n:::\n\n\n\n\n# Graph of Malaria drug resistance.\nAs we can see from the graph, drug resistance is a significant problem in many countries in the region. This highlights the need for ongoing research and development of new antimalarial drugs that can effectively treat drug-resistant strains of the malaria parasite.\nIn conclusion, while progress has been made in the fight against malaria in sub-Saharan Africa, there is still much work to be done. Data visualizations can help us understand the extent of the problem and identify areas where additional resources and interventions are needed. With continued efforts and investment, we can hope to see further reductions in the burden of malaria in the region.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\n# #Read data file incidence-of-malaria\nMALARIA_IMPORTED <- read.csv(\"~/Desktop/601_Spring_2023/posts/LindaHumphrey_FinalProjectDataFolder/MALARIA_IMPORTED.csv\", stringsAsFactors = FALSE)\n\nggplot(MALARIA_IMPORTED, aes(x = Year)) +\n  geom_histogram(binwidth = 5, color = \"black\", fill = \"steelblue\") +\n  labs(x = \"Incidence\", y = \"Count\", \n       title = \"Histogram of Malaria Incidence\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in `geom_histogram()`:\n! Problem while computing aesthetics.\nℹ Error occurred in the 1st layer.\nCaused by error in `FUN()`:\n! object 'Year' not found\n```\n:::\n:::\n\n\n# Line Graph of Malaria Prevalence\nTo create a line graph of malaria prevalence over time, we need to calculate the prevalence of malaria for each survey year. In this case, we only have data for 2017-2018, so we can just calculate the prevalence for those two years. We can use the aggregate() function to calculate the mean prevalence of malaria for each survey year:\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(hrbrthemes)\n\n#Read data file incidence-of-malaria\nMALARIA_IMPORTED <- read.csv(\"~/Desktop/601_Spring_2023/posts/LindaHumphrey_FinalProjectDataFolder/MALARIA_IMPORTED.csv\", stringsAsFactors = FALSE)\n\n# a line graph of the incidence of malaria over time for each country\nggplot(MALARIA_IMPORTED, aes(x = Year, y = Incidence.of.malaria..per.1.000.population.at.risk.)) +\n  geom_line() +\n  geom_point() +\n  viridis::scale_color_viridis(discrete = TRUE) +\n  labs(title = \"Incidence of Malaria Over Time\",\n       x = \"Year\",\n       y = \"Incidence\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in `geom_line()`:\n! Problem while computing aesthetics.\nℹ Error occurred in the 1st layer.\nCaused by error in `FUN()`:\n! object 'Year' not found\n```\n:::\n:::\n\n\n# Data  modeling\nThis code reads the incidence-of-malaria.csv file, fits a linear regression model to the data, and obtains a summary of the model, including coefficients and p-values. Interpret the results with caution.\n\n::: {.cell}\n\n```{.r .cell-code}\n#Read data file incidence-of-malaria\nMALARIA_IMPORTED <- read.csv(\"~/Desktop/601_Spring_2023/posts/LindaHumphrey_FinalProjectDataFolder/MALARIA_IMPORTED.csv\", stringsAsFactors = FALSE)\n\n\nmodel <- lm(Incidence.of.malaria..per.1.000.population.at.risk. ~ Year + Entity, data = MALARIA_IMPORTED)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(predvars, data, env): object 'Incidence.of.malaria..per.1.000.population.at.risk.' not found\n```\n:::\n\n```{.r .cell-code}\nsummary(model)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in summary(model): object 'model' not found\n```\n:::\n:::\n\n\n# Evaluation and Visualization\nFinally, we can evaluate the performance of our model and visualize. For example, we can use the following commands to create a confusion matrix and visualize the ROC curve\n\n::: {.cell}\n\n:::\n\n\n# Data Visualization\nData visualization of malaria prevalence in Tanzania, using the ggplot2 package to create a bar chart\n\n::: {.cell}\n\n:::\n\n\n# Data Variations\n\n::: {.cell}\n\n:::\n",
    "supporting": [
      "LindaHumphrey_FinalProject_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}