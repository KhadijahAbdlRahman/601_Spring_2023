{
  "hash": "c7d6d9573864c0ffd223bee3d97b8c6c",
  "result": {
    "markdown": "---\ntitle: \"Challenge 8\"\nauthor: \"Harsha Kanaka Eswar Gudipudi\"\ndescription: \"Joining Data\"\ndate: \"05/16/2022\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_8\n  - Harsha Kanakeswar Gudipudi\n  - faostat\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1)  read in multiple data sets, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2)  tidy data (as needed, including sanity checks)\n3)  mutate variables as needed (including sanity checks)\n4)  join two or more data sets and analyze some aspect of the joined data\n\n(be sure to only include the category tags for the data you use!)\n\n## Read in data\n\nRead in one (or more) of the following datasets, using the correct R package and command.\n\n  - military marriages ⭐⭐\n  - faostat ⭐⭐\n  - railroads  ⭐⭐⭐\n  - fed_rate ⭐⭐⭐\n  - debt ⭐⭐⭐\n  - us_hh ⭐⭐⭐⭐\n  - snl ⭐⭐⭐⭐⭐\n\n\n::: {.cell}\n\n```{.r .cell-code}\neggs_chicken_df <- read_csv(\"_data/FAOSTAT_egg_chicken.csv\")\nlivestock_df <- read_csv(\"_data/FAOSTAT_livestock.csv\")\ndairy_df <- read_csv(\"_data/FAOSTAT_cattle_dairy.csv\")\n```\n:::\n\nPrinting the first five rows of every dataset\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(eggs_chicken_df) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 14\n  `Domain Code` Domain      `Area Code` Area  `Element Code` Element `Item Code`\n  <chr>         <chr>             <dbl> <chr>          <dbl> <chr>         <dbl>\n1 QL            Livestock …           2 Afgh…           5313 Laying         1062\n2 QL            Livestock …           2 Afgh…           5410 Yield          1062\n3 QL            Livestock …           2 Afgh…           5510 Produc…        1062\n4 QL            Livestock …           2 Afgh…           5313 Laying         1062\n5 QL            Livestock …           2 Afgh…           5410 Yield          1062\n6 QL            Livestock …           2 Afgh…           5510 Produc…        1062\n# ℹ 7 more variables: Item <chr>, `Year Code` <dbl>, Year <dbl>, Unit <chr>,\n#   Value <dbl>, Flag <chr>, `Flag Description` <chr>\n```\n:::\n\n```{.r .cell-code}\nhead(livestock_df) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 14\n  `Domain Code` Domain      `Area Code` Area  `Element Code` Element `Item Code`\n  <chr>         <chr>             <dbl> <chr>          <dbl> <chr>         <dbl>\n1 QA            Live Anima…           2 Afgh…           5111 Stocks         1107\n2 QA            Live Anima…           2 Afgh…           5111 Stocks         1107\n3 QA            Live Anima…           2 Afgh…           5111 Stocks         1107\n4 QA            Live Anima…           2 Afgh…           5111 Stocks         1107\n5 QA            Live Anima…           2 Afgh…           5111 Stocks         1107\n6 QA            Live Anima…           2 Afgh…           5111 Stocks         1107\n# ℹ 7 more variables: Item <chr>, `Year Code` <dbl>, Year <dbl>, Unit <chr>,\n#   Value <dbl>, Flag <chr>, `Flag Description` <chr>\n```\n:::\n\n```{.r .cell-code}\nhead(dairy_df) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 14\n  `Domain Code` Domain      `Area Code` Area  `Element Code` Element `Item Code`\n  <chr>         <chr>             <dbl> <chr>          <dbl> <chr>         <dbl>\n1 QL            Livestock …           2 Afgh…           5318 Milk A…         882\n2 QL            Livestock …           2 Afgh…           5420 Yield           882\n3 QL            Livestock …           2 Afgh…           5510 Produc…         882\n4 QL            Livestock …           2 Afgh…           5318 Milk A…         882\n5 QL            Livestock …           2 Afgh…           5420 Yield           882\n6 QL            Livestock …           2 Afgh…           5510 Produc…         882\n# ℹ 7 more variables: Item <chr>, `Year Code` <dbl>, Year <dbl>, Unit <chr>,\n#   Value <dbl>, Flag <chr>, `Flag Description` <chr>\n```\n:::\n:::\n\n\nUnderstanding the dimensions of data set 1\n\n::: {.cell}\n\n```{.r .cell-code}\ndim(eggs_chicken_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 38170    14\n```\n:::\n:::\n\nUnderstanding the dimensions of data set 2\n\n::: {.cell}\n\n```{.r .cell-code}\ndim(livestock_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 82116    14\n```\n:::\n:::\n\nUnderstanding the dimensions of data set 3\n\n::: {.cell}\n\n```{.r .cell-code}\ndim(dairy_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 36449    14\n```\n:::\n:::\n\n\nUnderstanding the columns of data set 1\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(eggs_chicken_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"Domain Code\"      \"Domain\"           \"Area Code\"        \"Area\"            \n [5] \"Element Code\"     \"Element\"          \"Item Code\"        \"Item\"            \n [9] \"Year Code\"        \"Year\"             \"Unit\"             \"Value\"           \n[13] \"Flag\"             \"Flag Description\"\n```\n:::\n:::\n\nUnderstanding the columns of data set 2\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(livestock_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"Domain Code\"      \"Domain\"           \"Area Code\"        \"Area\"            \n [5] \"Element Code\"     \"Element\"          \"Item Code\"        \"Item\"            \n [9] \"Year Code\"        \"Year\"             \"Unit\"             \"Value\"           \n[13] \"Flag\"             \"Flag Description\"\n```\n:::\n:::\n\nUnderstanding the columns of data set 3\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(dairy_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"Domain Code\"      \"Domain\"           \"Area Code\"        \"Area\"            \n [5] \"Element Code\"     \"Element\"          \"Item Code\"        \"Item\"            \n [9] \"Year Code\"        \"Year\"             \"Unit\"             \"Value\"           \n[13] \"Flag\"             \"Flag Description\"\n```\n:::\n:::\n\n\n\n\n\n### Briefly describe the data\n\nI am using three data sets having information on eggs and chicken, livestock and dairy producing animals. The data sets contain information on livestock, live animals, eggs and chicken country wise. I would like to combine these three datasets to do an exploratory analysis country wise, item code wise etc.\n\n## Tidy Data (as needed)\n\nIs your data already tidy, or is there work to be done? Be sure to anticipate your end result to provide a sanity check, and document your work here.\n\nChecking to see how many entries in the 1st dataset has null values.\n\n::: {.cell}\n\n```{.r .cell-code}\nsum(is.na(eggs_chicken_df))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 7588\n```\n:::\n:::\n\nChecking to see how many entries in the 1st dataset has null values.\n\n::: {.cell}\n\n```{.r .cell-code}\nsum(is.na(livestock_df))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 39571\n```\n:::\n:::\n\n\nChecking to see how many entries in the 1st dataset has null values.\n\n::: {.cell}\n\n```{.r .cell-code}\nsum(is.na(dairy_df))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 10118\n```\n:::\n:::\n\n\n\nThe datasets are not very tidy but so I would like to clean them.\n\nCleaning the 3 data sets\n\n::: {.cell}\n\n```{.r .cell-code}\neggs_chicken_df<- na.omit(eggs_chicken_df)\nlivestock_df<- na.omit(livestock_df)\ndairy_df<- na.omit(dairy_df)\n```\n:::\n\n\nUnderstanding the dimensions of the data sets post cleaning.\n\n::: {.cell}\n\n```{.r .cell-code}\ndim(eggs_chicken_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 30582    14\n```\n:::\n\n```{.r .cell-code}\ndim(livestock_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 42545    14\n```\n:::\n\n```{.r .cell-code}\ndim(dairy_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 26331    14\n```\n:::\n:::\n\n\n##Join Data\n\n::: {.cell}\n\n```{.r .cell-code}\ndairy_livestock_df <-full_join(dairy_df,livestock_df)\n\ndairy_livestock_df\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 68,876 × 14\n   `Domain Code` Domain     `Area Code` Area  `Element Code` Element `Item Code`\n   <chr>         <chr>            <dbl> <chr>          <dbl> <chr>         <dbl>\n 1 QL            Livestock…           2 Afgh…           5318 Milk A…         882\n 2 QL            Livestock…           2 Afgh…           5420 Yield           882\n 3 QL            Livestock…           2 Afgh…           5510 Produc…         882\n 4 QL            Livestock…           2 Afgh…           5318 Milk A…         882\n 5 QL            Livestock…           2 Afgh…           5420 Yield           882\n 6 QL            Livestock…           2 Afgh…           5510 Produc…         882\n 7 QL            Livestock…           2 Afgh…           5318 Milk A…         882\n 8 QL            Livestock…           2 Afgh…           5420 Yield           882\n 9 QL            Livestock…           2 Afgh…           5510 Produc…         882\n10 QL            Livestock…           2 Afgh…           5318 Milk A…         882\n# ℹ 68,866 more rows\n# ℹ 7 more variables: Item <chr>, `Year Code` <dbl>, Year <dbl>, Unit <chr>,\n#   Value <dbl>, Flag <chr>, `Flag Description` <chr>\n```\n:::\n:::\n\nUnderstanding the columns of Dairy-Livestock combined data frame.\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(dairy_livestock_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"Domain Code\"      \"Domain\"           \"Area Code\"        \"Area\"            \n [5] \"Element Code\"     \"Element\"          \"Item Code\"        \"Item\"            \n [9] \"Year Code\"        \"Year\"             \"Unit\"             \"Value\"           \n[13] \"Flag\"             \"Flag Description\"\n```\n:::\n\n```{.r .cell-code}\ndim(dairy_livestock_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 68876    14\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndairy_livestock_eggschicken_df <- full_join(dairy_livestock_df,eggs_chicken_df)\ndairy_livestock_eggschicken_df\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 99,458 × 14\n   `Domain Code` Domain     `Area Code` Area  `Element Code` Element `Item Code`\n   <chr>         <chr>            <dbl> <chr>          <dbl> <chr>         <dbl>\n 1 QL            Livestock…           2 Afgh…           5318 Milk A…         882\n 2 QL            Livestock…           2 Afgh…           5420 Yield           882\n 3 QL            Livestock…           2 Afgh…           5510 Produc…         882\n 4 QL            Livestock…           2 Afgh…           5318 Milk A…         882\n 5 QL            Livestock…           2 Afgh…           5420 Yield           882\n 6 QL            Livestock…           2 Afgh…           5510 Produc…         882\n 7 QL            Livestock…           2 Afgh…           5318 Milk A…         882\n 8 QL            Livestock…           2 Afgh…           5420 Yield           882\n 9 QL            Livestock…           2 Afgh…           5510 Produc…         882\n10 QL            Livestock…           2 Afgh…           5318 Milk A…         882\n# ℹ 99,448 more rows\n# ℹ 7 more variables: Item <chr>, `Year Code` <dbl>, Year <dbl>, Unit <chr>,\n#   Value <dbl>, Flag <chr>, `Flag Description` <chr>\n```\n:::\n:::\n\nUnderstanding columns of overall combined data\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(dairy_livestock_eggschicken_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"Domain Code\"      \"Domain\"           \"Area Code\"        \"Area\"            \n [5] \"Element Code\"     \"Element\"          \"Item Code\"        \"Item\"            \n [9] \"Year Code\"        \"Year\"             \"Unit\"             \"Value\"           \n[13] \"Flag\"             \"Flag Description\"\n```\n:::\n:::\n\n\nUnderstanding dimensions of overall combined data\n\n::: {.cell}\n\n```{.r .cell-code}\ndim(dairy_livestock_eggschicken_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 99458    14\n```\n:::\n\n```{.r .cell-code}\nsummary(dairy_livestock_eggschicken_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Domain Code           Domain            Area Code        Area          \n Length:99458       Length:99458       Min.   :   1   Length:99458      \n Class :character   Class :character   1st Qu.:  81   Class :character  \n Mode  :character   Mode  :character   Median : 157   Mode  :character  \n                                       Mean   :1254                     \n                                       3rd Qu.: 240                     \n                                       Max.   :5504                     \n  Element Code    Element            Item Code        Item          \n Min.   :5111   Length:99458       Min.   : 866   Length:99458      \n 1st Qu.:5111   Class :character   1st Qu.: 882   Class :character  \n Median :5313   Mode  :character   Median :1034   Mode  :character  \n Mean   :5281                      Mean   :1002                     \n 3rd Qu.:5420                      3rd Qu.:1062                     \n Max.   :5510                      Max.   :1126                     \n   Year Code         Year          Unit               Value          \n Min.   :1961   Min.   :1961   Length:99458       Min.   :0.000e+00  \n 1st Qu.:1975   1st Qu.:1975   Class :character   1st Qu.:4.400e+03  \n Median :1991   Median :1991   Mode  :character   Median :3.514e+04  \n Mean   :1990   Mean   :1990                      Mean   :8.902e+06  \n 3rd Qu.:2005   3rd Qu.:2005                      3rd Qu.:2.685e+05  \n Max.   :2018   Max.   :2018                      Max.   :1.490e+09  \n     Flag           Flag Description  \n Length:99458       Length:99458      \n Class :character   Class :character  \n Mode  :character   Mode  :character  \n                                      \n                                      \n                                      \n```\n:::\n:::\n\n \nWith the final combined data set which was created by joining 3 individual data sets, we can answer a lot of questions. As an example, I attempted to see how the total value of Milk Production in Afghanistan is changing over years.I observed an exponential increase in terms of value as illustrated in the graph below.\n\n::: {.cell}\n\n```{.r .cell-code}\nmilk_production <- dairy_livestock_eggschicken_df %>%\n  filter(Element == \"Production\", Item == \"Milk, whole fresh cow\", Area == \"Afghanistan\" )\n\n# Plotting the Milk Production over the years\nggplot(milk_production, aes(x = Year, y = Value)) +\n  geom_line() +\n  labs(x = \"Year\", y = \"Milk Production\") +\n  ggtitle(\"Milk Production in Afghanistan\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](HarshaKanakaEswarGudipudi_challenge8_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "HarshaKanakaEswarGudipudi_challenge8_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}