{
  "hash": "7dcae7d679ae023e6ac16029a74c6d65",
  "result": {
    "markdown": "---\ntitle: \"Final Project: Chinese language disinformation about guns\"\nauthor: \"Jinxia Niu\"\ndescription: \"Data analysis and visualization\"\ndate: \"05/19/2023\"\nformat:\n  html:\n    df-print: paged\n    toc: true\n    code-copy: true\n    code-tools: true\n    css: styles.css\ncategories:\n  - final_Project_assignment\n  - final_project_data_description\neditor_options: \n  chunk_output_type: console\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Part 1. Introduction \n\nMy project focuses on disinformation in the Chinese-American community. I aim to assess the current(2023) extent of this misinformation and identify the primary digital platforms or social media where it is prevalent.  Specifically, I want to investigate the presence of disinformation regarding gun violence.\n\nDisinformation often reflects people's fears and confusion. Currently, we are facing not only the COVID-19 pandemic but also a gun violence epidemic that disproportionately affects immigrant communities. Moreover, there has been a rise in anti-Asian sentiment, exemplified by terms like 'China virus,' which has led to an increase in anti-Asian incidents. Consequently, gun violence and community safety have become major concerns for many Chinese-American communities, especially those residing in larger cities like San Francisco.\n\nThe data for my project is sourced from Piyaoba.org, the first Chinese-language fact-checking website in the U.S., which I manage at the non-profit organization Chinese for Affirmative Action (CAA).\n\nThe Piyaoba dataset aims to systematically monitor and document disinformation within the Chinese-American community. It includes manually collected instances of disinformation from various digital spaces and platforms spanning from 2022 to 2023.\n\nTo ensure impartiality and avoid selection bias, we carefully verify that all media and social media documented in the Piyaoba dataset are indeed misinformation or disinformation. Initially, my team identifies and documents the most frequently spreading accounts and users known for disseminating disinformation, as well as the primary keywords associated with misinformation. We then conduct ongoing manual monitoring of these accounts and keywords across different platforms. Whenever a new piece of information is identified from these sources, we perform a manual analysis to assess its accuracy before documenting it in the dataset.\n\nMy research aims to answer the following questions:\n\n1.What is the overall scale of disinformation in the Chinese-American community in 2023, including the topics and platforms being utilized?\n\n2.What is the extent of disinformation related to gun violence in 2022 and 2023? Which platforms are commonly used for its dissemination? Does the prevalence of gun violence-related disinformation continue to increase on major social media platforms throughout 2022 and 2023?\n\n## Part 2. Describe the data set(s) \n\n1.read the dataset. \n\n\n::: {.cell}\n\n```{.r .cell-code}\ngetwd()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"C:/Users/scaru/Documents/Github/JXN_601_Spring_2023/posts/JinxiaNiu_FinalProjectData\"\n```\n:::\n\n```{.r .cell-code}\nsetwd('C:/Users/scaru/Documents/Github/JXN_601_Spring_2023/posts')\n\ninstall.packages(\"readxl\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in contrib.url(repos, \"source\"): trying to use CRAN without setting a mirror\n```\n:::\n\n```{.r .cell-code}\nlibrary(readxl)\nPYB2023 <- read_xlsx (\"_data/PYB2023.xlsx\") \n```\n:::\n\n\n2.  present the descriptive information of the dataset(s) \n\n::: {.cell}\n\n```{.r .cell-code}\ndim(PYB2023)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 204   8\n```\n:::\n:::\n\n[1] 204   8\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    colnames(PYB2023) \n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n    [1] \"Date\"      \"Theme\"     \"Platforms\" \"Views_K\"   \"Source_EN\" \"Username\" \n    [7] \"Title_CH\"  \"Link\"     \n    ```\n    :::\n    :::\n\n[1] \"Date\"        \"Theme_EN\"    \"Platforms\"   \"Views(K)\"    \"Engagements\" \"Source_EN\"  \n[7] \"Username\"    \"Title_CH\"    \"Link\"  \n\nThe Piyaoba.org 2023 Chinese-language disinformation dataset comprises 204 observations and 8 columns. It consists of disinformation pieces collected from January 2023 to April 2023 in the Chinese-language digital space.\n\nThe \"Date\" column indicates the date when the disinformation was monitored.\nThe \"Theme\" column contains the theme or topic of the disinformation.\nThe \"Platforms\" column shows the social media platforms on which it circulated, including platforms like WeChat, Twitter, YouTube, and Telegram.\nThe \"Views_K\" column indicates the number of views it received, calculated in thousands.\n\nThe \"Source\" column indicates whether the original piece of disinformation came from English media or social media.\nThe \"Username\" column includes the usernames of the users on these social media platforms who generated and spread the disinformation.\n\nThe \"Title\" and \"Link\" columns contain the original titles of the disinformation and their corresponding links.\n\n3.  conduct summary statistics of the dataset(s)\n \nFirst, I will look at summary statistics for disinformation by theme, what kind of disinformation are popular in the Chinese-American community? \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nPYB2023$\"Views_K\"<- as.numeric(PYB2023$\"Views_K\")\nmean(PYB2023$\"Views_K\",na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 21.22629\n```\n:::\n\n```{.r .cell-code}\n Disinforplatforms <- PYB2023 %>%\n  group_by(Platforms) %>%\n  summarize(avg_views = mean(Views_K, na.rm = TRUE))\n \n head(arrange(Disinforplatforms, desc(avg_views)))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"Platforms\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"avg_views\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Twitter\",\"2\":\"42.596610\"},{\"1\":\"Wechat\",\"2\":\"16.637931\"},{\"1\":\"YouTube\",\"2\":\"3.673333\"},{\"1\":\"Telegram\",\"2\":\"3.159375\"},{\"1\":\"Other\",\"2\":\"1.000000\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nNext, I will look at summary statistics for disinformation platforms, which are the platforms are spreading them? \n\n\n::: {.cell}\n\n```{.r .cell-code}\nDisinfortopics <- PYB2023 %>%\n  group_by(Theme) %>%\n  summarize(avg_views = mean(Views_K, na.rm = TRUE))\n\nhead(arrange(Disinfortopics, desc(avg_views)))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"Theme\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"avg_views\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"COVID-19\",\"2\":\"35.68667\"},{\"1\":\"Crime\",\"2\":\"31.01818\"},{\"1\":\"Biden and the Democrats policies\",\"2\":\"27.66452\"},{\"1\":\"Immigration\",\"2\":\"25.18000\"},{\"1\":\"Guns\",\"2\":\"19.60000\"},{\"1\":\"Trump and the Repulican policies\",\"2\":\"19.06296\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n## 3. The Tentative Plan for Visualization \n\n1.I plan to utilize barplots and stacked barplots to address the scale of disinformation in the Chinese-American community in 2023, focusing on the topics and platforms involved. Barplots are a straightforward and clear way to present the highest-ranked disinformation topics and platforms.\n\n2.I intend to employ time series analysis, line plots, and grouped and stacked barplots to examine the scale of disinformation regarding gun violence in the years 2022-2023. Since disinformation about gun violence is a subset of broader disinformation, grouped and stacked barplots can effectively demonstrate the magnitude of this particular misinformation within the broader context. These visualization techniques are designed to illustrate the \"part of the whole\" relationship.\n\nNote: In order to obtain the current PYB2023 data, I have already performed some data wrangling tasks, including converting the date format, translating, renaming, and reordering the relevant variables. However, the current data is still not in tidy format. To address my research questions, I still need to merge or combine duplicated observations, particularly for the \"Theme\" variable. Additionally, I need to separate the \"Engagements\" variable and pivot the data longer.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\n \n #1.1 Use Barplot the scale of 2023 Chinese-language disinformation by topics\n\n ggplot(PYB2023, aes(x = fct_infreq(Theme))) +\n  geom_bar(fill = \"#0000FF\") +\n  geom_bar(position = \"dodge\") +\n  labs(title = \"2023 Disinformation Topics January-April\", x = \"Disinformation Topics\", y = \"Amount\", caption = \"Source: Piyaoba.org\") +\n  geom_text(aes(label = ..count..), stat = \"count\", position = position_dodge(0.9), vjust = -0.2) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1),\n        panel.grid = element_blank(),\n        panel.background = element_blank())\n```\n\n::: {.cell-output-display}\n![](final_JXN-project_assignment1_instructions-template_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#1.2Barplot the scale of 2023 disinformation by platforms\n\n#Custom platform colors\nplatform_colors <- c(\"YouTube\" = \"red\", \"Wechat\" = \"green\", \"Twitter\" = \"blue\", \"Telegram\" = \"#004c6d\")\n\nggplot(PYB2023, aes(x = fct_infreq(Platforms), fill = Platforms)) +\n  geom_bar() +\n  labs(title = \"2023 Disinformation Platforms January-April\", x = \"Disinformation Platforms(Source:Piyaoba.org)\", y = \"Amount\") +\n  geom_text(aes(label = ..count..), stat = \"count\", position = position_dodge(0.9), vjust = -0.2) +\n  scale_fill_manual(values = platform_colors) +\n  theme_minimal()+theme(panel.grid = element_blank())\n```\n\n::: {.cell-output-display}\n![](final_JXN-project_assignment1_instructions-template_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# 1.3 Stacked Barplot the scale of 2023 disinformation by platforms, filled with themes\n\ndf <- PYB2023 %>%\n  group_by(Platforms, Theme) %>%\n  summarize(Count = n())\n\nggplot(df, aes(x = fct_infreq(Platforms), y = Count, fill = Theme)) +geom_bar(stat = \"identity\") +\n  labs(x = \"Platforms\", y = \"Amount\", title = \"2023 Piyaoba disinformation platforms and themes\") +\n  theme_minimal() +\n  theme(panel.grid = element_blank())\n```\n\n::: {.cell-output-display}\n![](final_JXN-project_assignment1_instructions-template_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# 1.4.Because of the default colors are not clear enough to distinguish, for example, the color of \"Guns\" and \"Immigration\" themes are very similar, I would like to define the custom colors for each theme.\n\ncustom_colors <- c(`Biden and the Democrats policies` = \"blue\", `Conspiracy Theory` = \"orange\",  `COVID-19` = \"green\",  `Crime` = \"brown\",`Education` = \"white\",`Election and legislation` = \"yellow\", `Gender` = \"cyan\", `Guns` = \"black\",`Immigration` = \"pink\",`International Politics` = \"gray\",`Race` = \"purple\",\n`Trump and the Repulican policies` = \"red\")          \n              \n\n# Create the plot with the custom colors\nggplot(df, aes(x = fct_infreq(Platforms), y = Count, fill = Theme)) +\n  geom_bar(stat = \"identity\") +\n  labs(x = \"Platforms\", y = \"Amount\", title = \"2023 Piyaoba disinformation platforms and themes\") +\n  theme_minimal() +\n  theme(panel.grid = element_blank())+\n   scale_fill_manual(values = custom_colors)\n```\n\n::: {.cell-output-display}\n![](final_JXN-project_assignment1_instructions-template_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n\n2.I will employ time series analysis, line plots, and grouped and stacked barplots to address the scale of disinformation concerning gun violence in the years 2022-2023. Additionally, I aim to determine whether the volume of disinformation related to gun violence is increasing on major social media platforms throughout the specified period. To accomplish this, I will first need to perform data cleanup for the 2022 disinformation data. Then, I will filter out disinformation specifically related to gun violence for the years 2022 and 2023. Finally, I will merge the two datasets to facilitate further analysis.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nPYB2022 <- read_xlsx (\"_data/PYB2022.xlsx\") \n\n``{r}\n#Filter all columns Theme_EN contains \"Crime\",\"Guns” in 2022 disinformation dataset\n\ncolnames(PYB2022)\nPYB2022$Theme_EN <- str_replace_all(PYB2022$Theme_EN, c(\"guns\" = \"Guns\", \"crime\" = \"Crime\"))\nhead(PYB2022)\n\n\nlibrary(dplyr)\ndf<- PYB2022 %>% \n  filter(grepl('Guns|Crime',Theme_EN ))\ninstall.packages(\"writexl\")\n\nlibrary(writexl)\n\nwrite_xlsx (df,\"_data/Guns2022.xlsx\")\n\ndf1 <- read_xlsx(\"_data/Guns2022.xlsx\")\n\n#Filter all columns Theme_EN contains \"Crime\",\"Guns” in 2023 disinformation dataset\ndf2<- PYB %>% \n  filter(grepl('Guns|Crime',Theme))\nView(df2)\nwrite_xlsx (df2,\"_data/Guns2023.xlsx\")\n\n# Merge datasets Guns 2022 and Guns2023\ninstall.packages(\"readxl\")\nlibrary(readxl)\nGuns2022 <- read_xlsx (\"_data/Guns2022.xlsx\") \nGuns2023 <- read_xlsx (\"_data/Guns2023.xlsx\") \nhead(Guns2022)\nhead(Guns2023)\nGuns2023 <- Guns2023%>%\n  select(\"Date\",\"Title_CH\",\"Link\",\"Views_K\",\"Theme\",\"Platforms\",\"Username\")\nhead(Guns2023)\ncolnames(Guns2022)[6] =\"Theme\"\ncolnames(Guns2023)[2] =\"Title\"\nGuns2022$Theme_CH <- NULL\nGuns_2223 <- rbind(Guns2022, Guns2023)\n\n# Clean up some data that are in Chinese\nGuns_2223$Platforms <- str_replace_all(Guns_2223$Platforms, c(\"Wechat群传播广泛，议论很多\" = \"Wechat\", \"旧金山华人资讯网\" = \"Wechat\"))\n\n#try to order the date column in descending order\nGuns_2223[order(Guns_2223$Date, decreasing=TRUE,)]\n\n#Save the combined 2022-2023 datasets about gun violence\nwrite_xlsx (Guns_2223,\"_data/Guns_2223.xlsx\")\n\n#Filter out the disinformation about gun violence in the \"crime\" theme\n\nGuns_2223 <- read_xlsx (\"_data/Guns_2223.xlsx\") \n\nlibrary(dplyr)\ndf <- Guns_2223 %>% \n  filter(grepl('Guns',Theme))\n\n#sort the dataset by \"Date\" in descending order\n\ndf <- df[order(df$Date, decreasing = TRUE), ]\nview(df)\n\n#Save the new dataset only about gun violence disinformation in 2022-2023\ninstall.packages(\"writexl\")\nlibrary(writexl)\nwrite_xlsx (df,\"_data/Guns.xlsx\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError: attempt to use zero-length variable name\n```\n:::\n:::\n\n\n\n2.1 use Time Series and line plot to show the the scale if gun-violence disinformation from 2022-2023 and answer the question of if these disinformation increase over time from 2022-2023.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngetwd()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"C:/Users/scaru/Documents/Github/JXN_601_Spring_2023/posts/JinxiaNiu_FinalProjectData\"\n```\n:::\n\n```{.r .cell-code}\nsetwd('C:/Users/scaru/Documents/Github/JXN_601_Spring_2023/posts')\n\ninstall.packages(\"readxl\")\nlibrary(readxl)\nGuns <- read_xlsx (\"_data/Guns.xlsx\") \ninstall.packages(\"lubridate\")\nlibrary(lubridate)\n Guns <- Guns %>%\n  mutate(date = ymd(Date),\n         year = year(Date),\n         month = month(Date)) \n  \n  # Convert Date column to proper date format\nGuns$Date <- as.Date(Guns$Date)\n\n# Extract year and month from Date\nGuns$YearMonth <- format(Guns$Date, \"%Y-%m\")\n\n# Count the number of rows by YearMonth\ncount_by_ym <- aggregate(Date ~ YearMonth, data = Guns, FUN = length)\n\n# Plotting the line plot\nggplot(count_by_ym, aes(x = YearMonth, y = Date, group = 1)) +\n  geom_line() +geom_text(aes(label = Date), vjust = -0.5, hjust = 0.5, color = \"black\") +\n  labs(x = \"Date\", y = \"Amount of disinformation\", title = \"Distribution of gun violence disinformation 2022-2023\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](final_JXN-project_assignment1_instructions-template_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n\n```{.r .cell-code}\n  labs(x = \"Year-Month\", y = \"Count\", title = \"Count of Rows by Year-Month\") +\n  theme_minimal()+theme(plot.background = element_rect(fill = \"white\"),panel.grid.major = element_blank(), panel.grid.minor = element_blank())\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nNULL\n```\n:::\n:::\n\n\n\n2.2. Use stackbar plot to answer the questions of what's the scale of gun violence disinformation by platforms in each month from 2022-2023. \n\n\n::: {.cell}\n\n```{.r .cell-code}\ncount_by_year_month_platform <- Guns %>%\n  group_by(YearMonth, Platforms) %>%\n  summarise(row_count = n()) %>%\n  ungroup()\n  \n# Define colors for each platform\n\nplatform_colors <- c(\"YouTube\" = \"red\", \"Wechat\" = \"green\", \"Twitter\" = \"blue\", \"Telegram\" = \"#004c6d\")\n\n\n# Plotting the stacked barplot with specified colors\n\nggplot(count_by_year_month_platform, aes(x = YearMonth, y = row_count, fill = Platforms)) +\n  geom_bar(stat = \"identity\") +\n  geom_text(aes(label = row_count), vjust = -0.5, color = \"black\", size = 3) +  # Add total count numbers\n  labs(x = \"Date\", y = \"Amount\", title = \"Gun violence disinformation 2022-2023\") +\n  scale_fill_manual(values = platform_colors) +\n  theme(legend.position = \"bottom\", plot.background = element_rect(fill = \"white\"),panel.grid.major = element_blank(), panel.grid.minor = element_blank())\n```\n\n::: {.cell-output-display}\n![](final_JXN-project_assignment1_instructions-template_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n2.3.Plotting the line plot with different lines for each platform to have a even clearer idea of what's the trends of gun violence disinformation on different platforms \n  \n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(count_by_year_month_platform, aes(x = YearMonth, y = row_count, color = Platforms,group = Platforms)) +\n  geom_line() +\n  labs(x = \"Date\", y = \"Amount\", title = \"Gun violence disinformation 2022-2023 platform trends\") +\n  scale_color_manual(values = platform_colors) +\n  theme_minimal() +\n  theme(legend.position = \"bottom\")+theme(panel.grid = element_blank())+\n  theme(axis.line = element_line(color = \"black\") ) # Set color of axes lines to black\n```\n\n::: {.cell-output-display}\n![](final_JXN-project_assignment1_instructions-template_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "final_JXN-project_assignment1_instructions-template_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}