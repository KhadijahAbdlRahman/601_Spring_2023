{
  "hash": "c0840a9df4dbb9c66fbb265bec64c413",
  "result": {
    "markdown": "---\ntitle: \"Challenge 2\"\nauthor: \"Matthew Weiner\"\ndescription: \"Data wrangling: using group() and summarise()\"\ndate: \"03/20/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_2\n  - railroads\n  - Matthew_Weiner\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Introduction\nFor this challege I chose to analyze the railroads dataset\n\n## Getting Started\n\nI first had to load in the needed package and then read in the CSV file. I then used the 'head()' command to quickly view the first few entries in the dataset.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readr)\nrr <- read_csv(\"_data/railroad_2012_clean_county.csv\")\nhead(rr)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 3\n  state county               total_employees\n  <chr> <chr>                          <dbl>\n1 AE    APO                                2\n2 AK    ANCHORAGE                          7\n3 AK    FAIRBANKS NORTH STAR               2\n4 AK    JUNEAU                             3\n5 AK    MATANUSKA-SUSITNA                  2\n6 AK    SITKA                              1\n```\n:::\n:::\n\n\n\n## Understand the Data\n\nTo get a better idea of the contents of the dataset, I looked at the name of the columns.\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(rr)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"state\"           \"county\"          \"total_employees\"\n```\n:::\n:::\n\n\nThis shows us that there are 3 columns: \"state\", \"county\", and \"total_employees\".\n\nBased on the name of the columns and the name of the dataset, I am concluding that this data represents the number of railroad workers that are employed by each county in the United States. \n\nThis data was likely collected through some kind of government census of their employees as reailroad workers are often considered government employees. \n\n## Grouping Results\n\nThrough the use of dplyr commands such as `group_by()` and `summarize()`, we are able to get a better understanding of some details about our data.\n\nThe following code block shows the mean number of employees per state in ascending order. I chose to display the head and tail of this resulting table as I believe it is interesting to see which states employ the most railroad workers and which states employ the least.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\naverage_employees_per_state <- rr %>% \n  group_by(state) %>% \n  summarize(mean_employees = mean(total_employees)) %>%\n  arrange(mean_employees)\n  head(average_employees_per_state)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 2\n  state mean_employees\n  <chr>          <dbl>\n1 AP              1   \n2 HI              1.33\n3 AE              2   \n4 AK             17.2 \n5 SD             18.2 \n6 VT             18.5 \n```\n:::\n\n```{.r .cell-code}\n  tail(average_employees_per_state)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 2\n  state mean_employees\n  <chr>          <dbl>\n1 DC              279 \n2 NY              280.\n3 MA              282.\n4 CT              324 \n5 NJ              397.\n6 DE              498.\n```\n:::\n:::\n\n\nWe can then write a similar script to look at the median number of employees per state:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmedian_employees_per_state <- rr %>% \n  group_by(state) %>% \n  summarize(med_employees = median(total_employees)) %>%\n  arrange(med_employees)\n  head(median_employees_per_state)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 2\n  state med_employees\n  <chr>         <dbl>\n1 AP              1  \n2 HI              1  \n3 AE              2  \n4 AK              2.5\n5 SD              5  \n6 ND              8  \n```\n:::\n\n```{.r .cell-code}\n  tail(median_employees_per_state)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 2\n  state med_employees\n  <chr>         <dbl>\n1 MD             108.\n2 CT             125 \n3 DE             158 \n4 MA             271 \n5 DC             279 \n6 NJ             296 \n```\n:::\n:::\n\n\nWhen looking at the results of this query, we can see that the median numbers of the top 5 and bottom 5 states are all less than the results we found from the query of the mean number of employees. What this tells us is that the data is skewed to the right, i.e., there are some entries for each state that are substantially larger than the rest of the dataset causing the mean value to be inflated. \n\n## Conclusion\n\nIn this challenge, we took a look at the railroads dataset. Through our investigation we were able to determine what the data was describing, as well as look at some interesting results regarding the mean and median number of employees per state. This has allowed us to conclude that most states are skewed to the right, meaning that they each have counties with employee numbers that are much larger than the rest of the counties.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}