{
  "hash": "22e68509d39a22908885eceb0da05f21",
  "result": {
    "markdown": "---\ntitle: \"Challenge 3\"\nauthor: \"Harsha Kanaka Eswar Gudipudi\"\ndescription: \"Tidy Data: Pivoting\"\ndate: \"05/15/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\n    \ncategories:\n  - challenge_3\n  - Harsha Kanaka Eswar Gudipudi\n  - egg_tidy.csv\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1.  read in a data set, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2.  identify what needs to be done to tidy the current data\n3.  anticipate the shape of pivoted data\n4.  pivot the data into tidy format using `pivot_longer`\n\n## Read in data\n\nRead in one (or more) of the following datasets, using the correct R package and command.\n\n-   animal_weights.csv ‚≠ê\n-   eggs_tidy.csv ‚≠ê‚≠ê or organiceggpoultry.xls ‚≠ê‚≠ê‚≠ê\n-   australian_marriage\\*.xls ‚≠ê‚≠ê‚≠ê\n-   USA Households\\*.xlsx ‚≠ê‚≠ê‚≠ê‚≠ê\n-   sce_labor_chart_data_public.xlsx üåüüåüüåüüåüüåü\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readr)\n#Read eggs_tidy csv data\ndf <- read_csv(\"_data/eggs_tidy.csv\",show_col_types = FALSE)\nhead(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 √ó 6\n  month     year large_half_dozen large_dozen extra_large_half_dozen\n  <chr>    <dbl>            <dbl>       <dbl>                  <dbl>\n1 January   2004             126         230                    132 \n2 February  2004             128.        226.                   134.\n3 March     2004             131         225                    137 \n4 April     2004             131         225                    137 \n5 May       2004             131         225                    137 \n6 June      2004             134.        231.                   137 \n# ‚Ñπ 1 more variable: extra_large_dozen <dbl>\n```\n:::\n:::\n\n\n### Briefly describe the data\n\nThe summary below is showing the data for the month, year, and prices of different types of egg cartons over a period of 10 years from 2004 to 2013. The data is summarized based on the different egg carton sizes, which include large_half_dozen, large_dozen, extra_large_half_dozen, and extra_large_dozen.The data shows that the average price for the large_half_dozen egg cartons is \\$155.2, while the average price for the large_dozen egg cartons is \\$254.2. The average price for extra_large_half_dozen egg cartons is \\$164.2, and the average price for extra_large_dozen egg cartons is \\$266.8.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    month                year      large_half_dozen  large_dozen   \n Length:120         Min.   :2004   Min.   :126.0    Min.   :225.0  \n Class :character   1st Qu.:2006   1st Qu.:129.4    1st Qu.:233.5  \n Mode  :character   Median :2008   Median :174.5    Median :267.5  \n                    Mean   :2008   Mean   :155.2    Mean   :254.2  \n                    3rd Qu.:2011   3rd Qu.:174.5    3rd Qu.:268.0  \n                    Max.   :2013   Max.   :178.0    Max.   :277.5  \n extra_large_half_dozen extra_large_dozen\n Min.   :132.0          Min.   :230.0    \n 1st Qu.:135.8          1st Qu.:241.5    \n Median :185.5          Median :285.5    \n Mean   :164.2          Mean   :266.8    \n 3rd Qu.:185.5          3rd Qu.:285.5    \n Max.   :188.1          Max.   :290.0    \n```\n:::\n\n```{.r .cell-code}\ndim(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 120   6\n```\n:::\n\n```{.r .cell-code}\ncat(paste(\"no of rows in df = \", nrow(df)))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nno of rows in df =  120\n```\n:::\n:::\n\n\n## Anticipate the End Result\nHere the four columns \"large_half_dozen, large_dozen, extra_large_half_dozen, extra_large_dozen\" which can be made into two columns based on the size and quantity. And the corresponding values for the eggs should be displayed in the new column as price.\n\n\n### Challenge: Describe the final dimensions\n\n\nHere we are piovting 4 columns and the no of rows of df is 120 before pivoting. So the final no of rows would be equal to nrows(df)*4 = 120*4 = 480 and the no of columns after pivoting = 3+2 = 5. therefore the final dimension is 480*5.\n\n## Pivot the Data\n\nNow we will pivot the data, and compare our pivoted data dimensions to the dimensions calculated above as a \"sanity\" check.\n\n### Example\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_long <- df %>% \n  pivot_longer(\n    cols = -c(month, year),\n    names_to = c(\"size\", \"quantity\"),\n    names_pattern = \"(.+)_(.+)\",\n    values_to = \"price\"\n  )\n\n# View the pivoted data frame\ndf_long\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 480 √ó 5\n   month     year size             quantity price\n   <chr>    <dbl> <chr>            <chr>    <dbl>\n 1 January   2004 large_half       dozen     126 \n 2 January   2004 large            dozen     230 \n 3 January   2004 extra_large_half dozen     132 \n 4 January   2004 extra_large      dozen     230 \n 5 February  2004 large_half       dozen     128.\n 6 February  2004 large            dozen     226.\n 7 February  2004 extra_large_half dozen     134.\n 8 February  2004 extra_large      dozen     230 \n 9 March     2004 large_half       dozen     131 \n10 March     2004 large            dozen     225 \n# ‚Ñπ 470 more rows\n```\n:::\n\n```{.r .cell-code}\nprint(\"size: \")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"size: \"\n```\n:::\n\n```{.r .cell-code}\nprint(dim(df_long))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 480   5\n```\n:::\n:::\n\n\nYes, once it is pivoted long, our resulting data are $480x5$ - exactly what we expected!\n\n### Challenge: Pivot the Chosen Data\n\nDocument your work here. What will a new \"case\" be once you have pivoted the data? How does it meet requirements for tidy data?\n\nOnce pivoted, each row in the new data frame represents a unique combination of month, year, size, quantity and price. The value column contains the corresponding value for each combination. This meets the requirements for tidy data because each row represents a single observation and each variable is in a separate column. Additionally, the column names are informative and easy to understand.\n\n\n::: {.cell}\n\n:::\n\n\nAny additional comments?\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}